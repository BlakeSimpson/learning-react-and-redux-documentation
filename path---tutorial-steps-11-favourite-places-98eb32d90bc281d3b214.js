webpackJsonp([0x78f16d3ae3ce],{325:function(e,t){e.exports={data:{markdownRemark:{html:'<p>Our next step will be adding a "favourite" state to our data, so that the user\ncan chose which points on the map are his favourite and render them differently.</p>\n<p>We will start by making the first item in our data a favourite point by default.\nUpdate the <code>points</code> array in <code>Map.jsx</code> with the <code>favourite</code> key set to <code>true</code>.</p>\n<pre><code class="language-diff">// app/js/components/Map/Map.jsx\n\nconst points = [\n  {\n    x: 450,\n    y: 110,\n    details: {\n      name: \'The Wall\',\n      house: "Night\'s Watch",\n      words: \'Night gathers, and now my watch begins.\'\n    },\n+   favourite: true\n  },\n  ....\n</code></pre>\n<p>We will be showing a different pointer image when a pointer has the "favourite"\nstate, so let\'s copy that asset into the application via our terminal.</p>\n<pre><code class="language-bash">cp .assets/pointer-fav.png app/img\n</code></pre>\n<p>We will then add a new style rule to the <code>Pointer.css</code> file which will set the\nbackground image to the new image. Add the <code>.favourite</code> class after the\n<code>.pointer</code> class.</p>\n<pre><code class="language-css">/* app/js/components/Pointer/Pointer.css */\n\n.favourite {\n  background-image: url(\'../../../img/pointer-fav.png\');\n}\n</code></pre>\n<p>Next we will update the internal <code>state</code> of the <code>Pointer</code> component and tell the\ncomponent if this point is a favourite or not. Since the <code>favourite</code> prop is now\nbeing passed in from our data we have to update the <code>propTypes</code> and set\n<code>favourite</code> key in our state via the passed in props.</p>\n<pre><code class="language-diff">// app/js/components/Pointer/Pointer.jsx\n\nconstructor (props) {\n  super(props);\n\n  this.state = {\n    open: false,\n+   favourite: props.favourite\n  };\n\n  this.toggle = this.toggle.bind(this);\n}\n</code></pre>\n<pre><code class="language-diff">// app/js/components/Pointer/Pointer.jsx\n\nPointer.propTypes = {\n  details: PropTypes.object.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n+ favourite: PropTypes.bool\n};\n</code></pre>\n<p>Finally we will again use the <code>classnames</code> library to conditionally apply the\n<code>.favourite</code> style to the existing <code>.pointer</code> style, based on the state.</p>\n<pre><code class="language-diff">// app/js/components/Pointer/Pointer.jsx\n\nrender () {\n  const { x, y, details } = this.props;\n  const { name, house, words } = details;\n+\n+ const pointerClasses = classNames(styles.pointer, {\n+   [styles.favourite]: this.state.favourite\n+ });\n+\n  const detailsClasses = classNames(styles.details, {\n    [styles.hidden]: !this.state.open\n  });\n\n  return (\n    &#x3C;div\n      className={pointerClasses}\n      style={{ left: x, top: y }}\n      onClick={this.toggle}\n    >\n-     &#x3C;div className={styles.pointer}>\n+     &#x3C;div className={detailsClasses}>\n        &#x3C;header className={styles.headline}>\n          &#x3C;h3>{name}&#x3C;/h3>\n          &#x3C;a href="#" className={styles.close} onClick={this.toggle}>\n            &#x26;times;\n          &#x3C;/a>\n        &#x3C;/header>\n\n        &#x3C;p>House: {house}&#x3C;/p>\n        &#x3C;p>Words: {words}&#x3C;/p>\n      &#x3C;/div>\n    &#x3C;/div>\n  );\n}\n</code></pre>\n<p>If you look at the browser you will seethe first point on the map now has a red\nbackground image instead of simply being yellow.</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/learning-react-and-redux-documentation/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-36008.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 774px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 51.55038759689923%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACiUlEQVQozz2SbS/bURiH+xE2Q1vaanXtqAlmC1okHobI3sg2yVLmoVQ9ZzUP66qqLVpPMfPCJMJkS2SatbFKicQrMbaYfaNr5/9nXtwvTs65r3Pdv3MUykwdGr2RQCjE2dkZ5+fnXF5ecnV1RSwWY2dnh2QyycnJCYnEPtNBP6W2CtRaPQ8LisjQGcjMyiY9QyuXQtqQKhb7LgNPT0+5+vtHAC85OkqysfGJre1tDg8PSRz84Pj4iL3oLlP+KeytLWgNRnLy8m+hiv/kuoZGlpaX+fX7J+cXZ8LygsjCPKNjY2xubsjgZCJKIirBE3ze2cKcayG/qJih4X6s5VakaRV309WkqTU3N2ioqn1KPB4VsAhGcy5Ol4uBoUH2vn1lP77LQfwLyYMoqythTLl52CorCc++p7SsREyahSJFqSZVlYlKkyVKJ2eSbc7BYLZgeGChoPgJbvcgc7OTLEW8bK8HWf/gYXV+hNqacvSmHMorSlHr9DJHGKpuA5WUM4RpXn4+L5tqZesyayne8R48b9uJ+LpYCfUS9HSyFhlkuLeZ+oZqymwlosdyneE9QZXI0kKTpaew6Dpgo8mMVrx+Y30lHrediTd2fONt+N+1E/Q6mPd3szDdQ8DjYG7Kib254SbDNBUpygwZqNbq6LA/o7rKxqvntXhH7HhGWvCOthIWdh73a4KTXYSnr00Xp13MTnYz0N1EXY1VfgvFnVSlbCjRs00mAl6nsOhiaqKDGXE47HcRCTiZn+kVe50szfbzcWGY5VAfS6F+Qt4OSkoecd9suhn5xk4a05KXKxoGmPF145twCLAD31gbc/4u1hbFeJMOwoEecWaQhWAf/c4XFD8ulHulvyxJ/QOtsqAPoNjXSQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="Img: The map rendered with favourite pointers"\n        title=""\n        src="/learning-react-and-redux-documentation/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-36008.png"\n        srcset="/learning-react-and-redux-documentation/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-5f397.png 250w,\n/learning-react-and-redux-documentation/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-1c1eb.png 500w,\n/learning-react-and-redux-documentation/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-36008.png 774w"\n        sizes="(max-width: 774px) 100vw, 774px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2>Toggle the favourite state</h2>\n<p>Now we have the favourite state working if it was originally defined in the\n<code>points</code> dataset. Let\'s work on adding controls so the user can choose which\npoints to make a favourite, or not.</p>\n<p>We will be adding a plus/minus link beside the close link in the details popup\nto control the favourite state. For that reason we will first of all refactor\nour styles for the controls, so that the <code>.close</code> button style can be shared.</p>\n<pre><code class="language-diff">/* app/js/components/Pointer/Pointer.css */\n\n+ .detailsControls {\n+   .control {\n+     margin-left: 10px;\n+   }\n+ }\n+\n- .close {\n+ .control {\n</code></pre>\n<p>We will then also have to update our popup template so that the close link and\nthe new favourite toggle link are inside of the <code>.designControls</code> wrapper and\nthat both links now have the class name <code>.control</code>.</p>\n<p>The favourite toggle link will render either a <code>+</code> or <code>-</code> text inside of it\nconditionally based on the current favourite state.</p>\n<pre><code class="language-diff">// app/js/components/Pointer/Pointer.jsx\n\n  &#x3C;header className={styles.headline}>\n    &#x3C;h3>{name}&#x3C;/h3>\n-   &#x3C;a href="#" className={styles.close} onClick={this.toggle}>\n-     &#x26;times;\n-   &#x3C;/a>\n+\n+   &#x3C;div className={styles.detailsControls}>\n+     &#x3C;a href="#" className={styles.control}>\n+       {this.state.favourite ? \'–\' : \'+\'}\n+     &#x3C;/a>\n+\n+     &#x3C;a href="#" className={styles.control} onClick={this.toggle}>\n+       &#x26;times;\n+     &#x3C;/a>\n+   &#x3C;/div>\n  &#x3C;/header>\n</code></pre>\n<p>We will now a new method called <code>favourite</code> that is similar to the <code>toggle</code>\nmethod. It will read the current value of <code>this.state.favourite</code> and set a new\nstate with the toggled (opposite) value. Add this method below <code>toggle</code> and\nremember to bind its context in the constructor.</p>\n<pre><code class="language-diff">// app/js/components/Pointer/Pointer.jsx\n\nconstructor (props) {\n  super(props);\n\n  this.state = {\n    open: false,\n    favourite: props.favourite\n  };\n\n  this.toggle = this.toggle.bind(this);\n+ this.favourite = this.favourite.bind(this);\n}\n\n...\n\n+favourite () {\n+  this.setState({ favourite: !this.state.favourite });\n+}\n\nrender () {\n...\n</code></pre>\n<p>The final step is to add the onClick handler for the <code>favourite</code> method.</p>\n<pre><code class="language-diff">// app/js/components/Pointer/Pointer.jsx\n\n- &#x3C;a href="#" className={styles.control}>\n+ &#x3C;a href="#" className={styles.control} onClick={this.favourite}>\n    {this.state.favourite ? \'–\' : \'+\'}\n  &#x3C;/a>\n</code></pre>\n<p>When you now click on a pointer to open the details popup, you can click on the\n<code>+</code> or <code>-</code> symbol and see that it switches each time. If you close the popup you\nwill see that the favourite state has been reflected in the pointer background\nimage also.</p>',frontmatter:{title:"Favourite Places",step:11}},allMarkdownRemark:{edges:[{node:{fields:{slug:"/tutorial/getting-started/"},frontmatter:{title:"Getting Started",step:null}}},{node:{fields:{slug:"/tutorial/links/"},frontmatter:{title:"Links",step:null}}},{node:{fields:{slug:"/tutorial/steps/1-setup-package/"},frontmatter:{title:"Generate the package.json",step:1}}},{node:{fields:{slug:"/tutorial/steps/11-favourite-places/"},frontmatter:{title:"Favourite Places",step:11}}},{node:{fields:{slug:"/tutorial/steps/10-pointer-details/"},frontmatter:{title:"Showing the Details of each Point",step:10}}},{node:{fields:{slug:"/tutorial/steps/12-favourites-list/"},frontmatter:{title:"Favourites List",step:12}}},{node:{fields:{slug:"/tutorial/steps/13-adding-redux/"},frontmatter:{title:"Starting with Redux",step:13}}},{node:{fields:{slug:"/tutorial/steps/15-removing-favourites-from-the-list/"},frontmatter:{title:"Removing Favourites from the List",step:15}}},{node:{fields:{slug:"/tutorial/steps/14-managing-favourites-with-redux/"},frontmatter:{title:"Managing Favourites with Redux",step:14}}},{node:{fields:{slug:"/tutorial/steps/17-testing-with-jest/"},frontmatter:{title:"Testing with Jest",step:17}}},{node:{fields:{slug:"/tutorial/steps/16-ids-for-points/"},frontmatter:{title:"Adding IDs to the Points Data",step:16}}},{node:{fields:{slug:"/tutorial/steps/18-testing-redux-actions/"},frontmatter:{title:"Testing Redux Actions",step:18}}},{node:{fields:{slug:"/tutorial/steps/20-jest-component-configuration/"},frontmatter:{title:"Preparing Component testing with Jest",step:20}}},{node:{fields:{slug:"/tutorial/steps/19-testing-redux-reducers/"},frontmatter:{title:"Testing Redux Reducers",step:19}}},{node:{fields:{slug:"/tutorial/steps/2-webpack/"},frontmatter:{title:"Setting up Webpack",step:2}}},{node:{fields:{slug:"/tutorial/steps/21-testing-the-map/"},frontmatter:{title:"Testing the Map",step:21}}},{node:{fields:{slug:"/tutorial/steps/23-test-the-app-component/"},frontmatter:{title:"Testing the App Component",step:23}}},{node:{fields:{slug:"/tutorial/steps/24-test-favourites-list/"},frontmatter:{title:"Testing the Favourites List",step:24}}},{node:{fields:{slug:"/tutorial/steps/22-testing-connected-components/"},frontmatter:{title:"Testing Connected Components",step:22}}},{node:{fields:{slug:"/tutorial/steps/3-babel/"},frontmatter:{title:"Setting up Babel",step:3}}},{node:{fields:{slug:"/tutorial/steps/25-test-the-pointer/"},frontmatter:{title:"Testing the Pointer",step:25}}},{node:{fields:{slug:"/tutorial/steps/4-eslint-and-prettier/"},frontmatter:{title:"ESLint and Prettier",step:4}}},{node:{fields:{slug:"/tutorial/steps/5-starting-react/"},frontmatter:{title:"Starting with React",step:5}}},{node:{fields:{slug:"/tutorial/steps/9-adding-points-to-the-map/"},frontmatter:{title:"Adding Points to the Map",step:9}}},{node:{fields:{slug:"/tutorial/steps/6-adding-the-map/"},frontmatter:{title:"Adding the Map",step:6}}},{node:{fields:{slug:"/tutorial/steps/8-webpack-dev-server/"},frontmatter:{title:"Webpack Dev Server",step:8}}},{node:{fields:{slug:"/tutorial/steps/7-styling-with-postcss/"},frontmatter:{title:"CSS Modules and PostCSS",step:7}}}]}},pathContext:{slug:"/tutorial/steps/11-favourite-places/"}}}});
//# sourceMappingURL=path---tutorial-steps-11-favourite-places-98eb32d90bc281d3b214.js.map