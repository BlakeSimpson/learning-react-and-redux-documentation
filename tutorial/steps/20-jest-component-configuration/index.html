<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-layouts-index-js-df046e3d82d9aa5cb2d4.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-templates-post-js-f0af377451dd6a283812.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/path---tutorial-steps-20-jest-component-configuration-431635b4516d85d82fb0.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/app-804fc8cced1d5eb1fe5f.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"231608221292675":"app-804fc8cced1d5eb1fe5f.js","195351340454287":"component---src-templates-post-js-f0af377451dd6a283812.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","35783957827783":"component---src-pages-index-js-ff64f775001c0bf6a0a8.js","60335399758886":"path----d56a5c009c65cb248351.js","118799121156847":"path---tutorial-getting-started-8a4fc5a7f1c7fff20a80.js","214057910109245":"path---tutorial-steps-1-setup-package-0b03d3e9617a9ac7e546.js","135563891114638":"path---tutorial-links-3b56f4428ffff23c606e.js","206805960689390":"path---tutorial-steps-10-pointer-details-220e0552918bc56dfd1f.js","132978315027406":"path---tutorial-steps-11-favourite-places-e4400406fec0f9f7a276.js","17971265750924":"path---tutorial-steps-12-favourites-list-c5fe3b9e1bcb980c9894.js","237949882381156":"path---tutorial-steps-13-adding-redux-ce65711f18c8dc79e449.js","1033659491245":"path---tutorial-steps-14-managing-favourites-with-redux-a20340d47863aa7b3b4e.js","181225226889932":"path---tutorial-steps-15-removing-favourites-from-the-list-db0d8d80a44494bcacda.js","118277567452233":"path---tutorial-steps-16-ids-for-points-f0bf8c7c7d9923a0f6d0.js","119454655196054":"path---tutorial-steps-17-testing-with-jest-51b337c393df0d129b7b.js","182874657879501":"path---tutorial-steps-18-testing-redux-actions-06314452d1a42c3fea98.js","164006660818621":"path---tutorial-steps-19-testing-redux-reducers-8692fe2cc57b5f38a041.js","86486738803091":"path---tutorial-steps-2-webpack-faa841cbef3fa0d3ae15.js","191994760325403":"path---tutorial-steps-20-jest-component-configuration-431635b4516d85d82fb0.js","179161860437318":"path---tutorial-steps-21-testing-the-map-b46914cd1bdc3aa807e5.js","164153876557642":"path---tutorial-steps-22-testing-connected-components-c4354567191a20fdf995.js","227242793964653":"path---tutorial-steps-23-test-the-app-component-0bd5c71556a8b9114be1.js","169013477403742":"path---tutorial-steps-24-test-favourites-list-48d2f0126fb0b71cdffb.js","198134931227272":"path---tutorial-steps-25-test-the-pointer-704ac03fbfb56845cab5.js","280001054470434":"path---tutorial-steps-3-babel-c1c552bee6b97e466144.js","46414529011902":"path---tutorial-steps-4-eslint-and-prettier-63875e9e961786907ba4.js","97838741517688":"path---tutorial-steps-5-starting-react-afd30fcd4c9f210031e1.js","235804080668192":"path---tutorial-steps-6-adding-the-map-78bda643b3b89e561d45.js","46098157417510":"path---tutorial-steps-8-webpack-dev-server-93085ca67c764693bc37.js","172606999645938":"path---tutorial-steps-7-styling-with-postcss-124dcc375bb745c014ea.js","165467095976884":"path---tutorial-steps-9-adding-points-to-the-map-4489190dd6692a0149bd.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-5b5a73dff20c4c46e693.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-df046e3d82d9aa5cb2d4.js"}
            //]]>
            </script><title data-react-helmet="true">Learning React and Redux</title><meta data-react-helmet="true" name="description" content="A tutorial for learning React and Redux"/><meta data-react-helmet="true" name="keywords" content="react, redux, tutorial"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js","/learning-react-and-redux-documentation/app-804fc8cced1d5eb1fe5f.js","/learning-react-and-redux-documentation/path---tutorial-steps-20-jest-component-configuration-431635b4516d85d82fb0.js","/learning-react-and-redux-documentation/component---src-templates-post-js-f0af377451dd6a283812.js","/learning-react-and-redux-documentation/component---src-layouts-index-js-df046e3d82d9aa5cb2d4.js"
])
  </script><style id="gatsby-inlined-css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{max-width:100%;margin:0 0 1.45rem;padding:10px;//border:1px solid #ddd;box-shadow:0 3px 3px #000;background:#eee;border-radius:5px}h1{font-size:2.25rem}h1,h2{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{margin:0 0 1.45rem 1.45rem;padding:0;list-style-position:outside;list-style-image:none}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}pre,table{margin:0 0 1.45rem}table{padding:0;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{margin:0 0 1.45rem;padding:0}blockquote{padding-left:1rem;padding-right:1rem;margin:0;margin-bottom:1.45rem;border-left:4px solid #ddd}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);border:none;height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:0;padding-top:.2em;padding-bottom:.2em;padding-left:.4rem;margin-right:.2rem}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}#toc{float:right;max-width:333px;font-size:14px;padding:10px 5px 0;background:#eee;border:1px solid #ddd;border-radius:3px;margin:15px 0 15px 15px;box-shadow:0 0 2px 2px rgba(0,0,0,.05)}#toc ul{margin-bottom:0;list-style-type:square}@media only screen and (max-width:1000px){#toc{max-width:200px}}#content-wrapper,#header-wrapper{max-width:1400px}@media only screen and (max-width:1200px){#content-wrapper,#header-wrapper{max-width:1100px}}#header-wrapper-outer{background:#222 url(/learning-react-and-redux-documentation/static/header.02190969.jpg);margin-bottom:2.5rem}.gatsby-resp-image-wrapper{border-radius:3px;border:1px solid #ddd;box-shadow:0 0 3px rgba(0,0,0,.2);padding:0}.gatsby-resp-image-background-image{border-radius:10px}.gatsby-highlight{margin-bottom:20px}.gatsby-resp-image-image{padding:6px}pre{text-indent:-8px}.next-step-link-wrapper{border-top:1px solid rgba(0,0,0,.2)}.next-step-link-wrapper:after{content:"";display:block;clear:both}.next-step-link{float:right;font-size:20px;margin:20px 0}.current-step{color:#555;background:#f5f5f5;padding:8px;border:1px solid #ddd;box-shadow:0 0 1px 1px rgba(0,0,0,.1);border-radius:3px;display:inline-block;font-size:14px;float:right;margin:14px 0 0}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="1112945605"><!-- react-empty: 2 --><div id="header-wrapper-outer" data-reactid="3"><div id="header-wrapper" style="margin:0 auto;padding:1.45rem 1.0875rem;" data-reactid="4"><h1 style="margin:0;" data-reactid="5"><a style="color:white;text-decoration:none;font-size:0.9em;line-height:1.5em;" href="/learning-react-and-redux-documentation/" data-reactid="6">Learning React and Redux</a></h1></div></div><div id="content-wrapper" style="margin:0 auto;padding:0px 1.0875rem 1.45rem;padding-top:0;" data-reactid="7"><div data-reactid="8"><aside id="toc" data-reactid="9"><ul data-reactid="10"><li data-reactid="11"><a href="/learning-react-and-redux-documentation/tutorial/getting-started" data-reactid="12"><!-- react-text: 13 -->Getting Started<!-- /react-text --></a></li><li data-reactid="14"><a href="/learning-react-and-redux-documentation/tutorial/steps/1-setup-package/" data-reactid="15"><!-- react-text: 16 -->Step 1: <!-- /react-text --><!-- react-text: 17 -->Generate the package.json<!-- /react-text --></a></li><li data-reactid="18"><a href="/learning-react-and-redux-documentation/tutorial/steps/2-webpack/" data-reactid="19"><!-- react-text: 20 -->Step 2: <!-- /react-text --><!-- react-text: 21 -->Setting up Webpack<!-- /react-text --></a></li><li data-reactid="22"><a href="/learning-react-and-redux-documentation/tutorial/steps/3-babel/" data-reactid="23"><!-- react-text: 24 -->Step 3: <!-- /react-text --><!-- react-text: 25 -->Setting up Babel<!-- /react-text --></a></li><li data-reactid="26"><a href="/learning-react-and-redux-documentation/tutorial/steps/4-eslint-and-prettier/" data-reactid="27"><!-- react-text: 28 -->Step 4: <!-- /react-text --><!-- react-text: 29 -->ESLint and Prettier<!-- /react-text --></a></li><li data-reactid="30"><a href="/learning-react-and-redux-documentation/tutorial/steps/5-starting-react/" data-reactid="31"><!-- react-text: 32 -->Step 5: <!-- /react-text --><!-- react-text: 33 -->Starting with React<!-- /react-text --></a></li><li data-reactid="34"><a href="/learning-react-and-redux-documentation/tutorial/steps/6-adding-the-map/" data-reactid="35"><!-- react-text: 36 -->Step 6: <!-- /react-text --><!-- react-text: 37 -->Adding the Map<!-- /react-text --></a></li><li data-reactid="38"><a href="/learning-react-and-redux-documentation/tutorial/steps/7-styling-with-postcss/" data-reactid="39"><!-- react-text: 40 -->Step 7: <!-- /react-text --><!-- react-text: 41 -->CSS Modules and PostCSS<!-- /react-text --></a></li><li data-reactid="42"><a href="/learning-react-and-redux-documentation/tutorial/steps/8-webpack-dev-server/" data-reactid="43"><!-- react-text: 44 -->Step 8: <!-- /react-text --><!-- react-text: 45 -->Webpack Dev Server<!-- /react-text --></a></li><li data-reactid="46"><a href="/learning-react-and-redux-documentation/tutorial/steps/9-adding-points-to-the-map/" data-reactid="47"><!-- react-text: 48 -->Step 9: <!-- /react-text --><!-- react-text: 49 -->Adding Points to the Map<!-- /react-text --></a></li><li data-reactid="50"><a href="/learning-react-and-redux-documentation/tutorial/steps/10-pointer-details/" data-reactid="51"><!-- react-text: 52 -->Step 10: <!-- /react-text --><!-- react-text: 53 -->Showing the Details of each Point<!-- /react-text --></a></li><li data-reactid="54"><a href="/learning-react-and-redux-documentation/tutorial/steps/11-favourite-places/" data-reactid="55"><!-- react-text: 56 -->Step 11: <!-- /react-text --><!-- react-text: 57 -->Favourite Places<!-- /react-text --></a></li><li data-reactid="58"><a href="/learning-react-and-redux-documentation/tutorial/steps/12-favourites-list/" data-reactid="59"><!-- react-text: 60 -->Step 12: <!-- /react-text --><!-- react-text: 61 -->Favourites List<!-- /react-text --></a></li><li data-reactid="62"><a href="/learning-react-and-redux-documentation/tutorial/steps/13-adding-redux/" data-reactid="63"><!-- react-text: 64 -->Step 13: <!-- /react-text --><!-- react-text: 65 -->Starting with Redux<!-- /react-text --></a></li><li data-reactid="66"><a href="/learning-react-and-redux-documentation/tutorial/steps/14-managing-favourites-with-redux/" data-reactid="67"><!-- react-text: 68 -->Step 14: <!-- /react-text --><!-- react-text: 69 -->Managing Favourites with Redux<!-- /react-text --></a></li><li data-reactid="70"><a href="/learning-react-and-redux-documentation/tutorial/steps/15-removing-favourites-from-the-list/" data-reactid="71"><!-- react-text: 72 -->Step 15: <!-- /react-text --><!-- react-text: 73 -->Removing Favourites from the List<!-- /react-text --></a></li><li data-reactid="74"><a href="/learning-react-and-redux-documentation/tutorial/steps/16-ids-for-points/" data-reactid="75"><!-- react-text: 76 -->Step 16: <!-- /react-text --><!-- react-text: 77 -->Adding IDs to the Points Data<!-- /react-text --></a></li><li data-reactid="78"><a href="/learning-react-and-redux-documentation/tutorial/steps/17-testing-with-jest/" data-reactid="79"><!-- react-text: 80 -->Step 17: <!-- /react-text --><!-- react-text: 81 -->Testing with Jest<!-- /react-text --></a></li><li data-reactid="82"><a href="/learning-react-and-redux-documentation/tutorial/steps/18-testing-redux-actions/" data-reactid="83"><!-- react-text: 84 -->Step 18: <!-- /react-text --><!-- react-text: 85 -->Testing Redux Actions<!-- /react-text --></a></li><li data-reactid="86"><a href="/learning-react-and-redux-documentation/tutorial/steps/19-testing-redux-reducers/" data-reactid="87"><!-- react-text: 88 -->Step 19: <!-- /react-text --><!-- react-text: 89 -->Testing Redux Reducers<!-- /react-text --></a></li><li data-reactid="90"><a href="/learning-react-and-redux-documentation/tutorial/steps/20-jest-component-configuration/" data-reactid="91"><!-- react-text: 92 -->Step 20: <!-- /react-text --><!-- react-text: 93 -->Preparing Component testing with Jest<!-- /react-text --></a></li><li data-reactid="94"><a href="/learning-react-and-redux-documentation/tutorial/steps/21-testing-the-map/" data-reactid="95"><!-- react-text: 96 -->Step 21: <!-- /react-text --><!-- react-text: 97 -->Testing the Map<!-- /react-text --></a></li><li data-reactid="98"><a href="/learning-react-and-redux-documentation/tutorial/steps/22-testing-connected-components/" data-reactid="99"><!-- react-text: 100 -->Step 22: <!-- /react-text --><!-- react-text: 101 -->Testing Connected Components<!-- /react-text --></a></li><li data-reactid="102"><a href="/learning-react-and-redux-documentation/tutorial/steps/23-test-the-app-component/" data-reactid="103"><!-- react-text: 104 -->Step 23: <!-- /react-text --><!-- react-text: 105 -->Testing the App Component<!-- /react-text --></a></li><li data-reactid="106"><a href="/learning-react-and-redux-documentation/tutorial/steps/24-test-favourites-list/" data-reactid="107"><!-- react-text: 108 -->Step 24: <!-- /react-text --><!-- react-text: 109 -->Testing the Favourites List<!-- /react-text --></a></li><li data-reactid="110"><a href="/learning-react-and-redux-documentation/tutorial/steps/25-test-the-pointer/" data-reactid="111"><!-- react-text: 112 -->Step 25: <!-- /react-text --><!-- react-text: 113 -->Testing the Pointer<!-- /react-text --></a></li><li data-reactid="114"><a href="/learning-react-and-redux-documentation/tutorial/links" data-reactid="115"><!-- react-text: 116 -->Links<!-- /react-text --></a></li></ul></aside><h3 class="current-step" data-reactid="117"><!-- react-text: 118 -->Step <!-- /react-text --><!-- react-text: 119 -->20<!-- /react-text --></h3><h1 data-reactid="120">Preparing Component testing with Jest</h1><div data-reactid="121"><p>Before we actually begin to write component test we will add some extra
configuration for Jest to make this easier for us. As mentioned earlier, Jest is
a zero-configuration library so these steps are not strictly necessary. Jest can
automatically create and match snapshots of our components but with these
improvements the snapshots that are generated will be much easier for us as a
developer to read and compare.</p>
<p>We are also going to include an open source library called <code>enzyme</code> that will
help us to mount our components in isolation and provide us with the ability to
interact with them, clicking on controls and testing the expected results,
instead of simply generating a snapshot of the returned JSX.</p>
<p>A configuration will also be added to tell Jest that we are using CSS modules so
that it can parse our components without encountering an error.</p>
<p>Finally we will create a spec helper file that is available to all tests so that
some configuration and mock data can be shared.</p>
<h2>Enzyme</h2>
<p>The <a href="https://github.com/airbnb/enzyme">enzyme</a> package allows us to work with
components inside of tests by either creating a "shallow" version of it (only
the tested component will be rendered) or "mount" the full DOM (the component
and all of it's children are rendered. Additionally you can interact with the
component by simulating events such as a "click").</p>
<p>We will first install this as a development dependency. Since we are using React
version 16 we also need to install the <code>enzyme-adapter-react-16</code> package.</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code>yarn add --dev enzyme enzyme-adapter-react-16
</code></pre>
      </div>
<p>Normally enyzme would not need any configuration but as mentioned we need the
<code>enzyme-adapter-react-16</code> adapter for enzyme due to our React.js package
version. This means that in every test file where we use enzyme we would have to
import the adapter and instruct enzyme to use it. Instead of copying this to
every file we can inform Jest that we have a "spec helper" file. This file will
automatically be loaded into every test file in the project making it the ideal
place to place shared configuration.</p>
<p>Let's create a <code>spec-helper.js</code> file in the <code>app/js/</code> directory. Here we will
import the React 16 enzyme adapter, the <code>configure</code> method from enzyme and apply
the configuration.</p>
<p>Additionally we need to import a polyfill <sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup> for the <code>requestAnimationFrame</code>
method. This package already comes ad a dependency from enzyme so we do not need
to install anything additionally. This polyfill is required to handle warnings
given by React 16 when mounting our components.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token comment">// app/js/spec-helper.js</span>

<span class="token keyword">import</span> <span class="token string">'raf/polyfill'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> configure <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'enzyme'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Adapter <span class="token keyword">from</span> <span class="token string">'enzyme-adapter-react-16'</span><span class="token punctuation">;</span>

<span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> adapter<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>The final step is to inform Jest about our spec helper location. We do this by
creating a <code>jest</code> section in our <code>package.json</code> and passing the location of the
file to the <code>setupTestFrameworkScriptFile</code> key.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// package.json
  ...
  "scripts": {
    "dev": "webpack-dev-server",
    "build": "webpack -p",
    "lint:all": "eslint app/js/*",
    "lint:fix": "eslint app/js/* --fix",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage"
  },
<span class="token inserted">+ "jest": {</span>
<span class="token inserted">+   "setupTestFrameworkScriptFile": "./app/js/spec-helper.js"</span>
<span class="token inserted">+ },</span>
  ...
</code></pre>
      </div>
<h2>Changing the Snapshot Serializer</h2>
<p>By default when you "snapshot" a component you creates a representation of the
JSX returned by the component and writes it to a snapshot file. The default
snapshots from Jest can be quite verbose and hard to read. They can also cause
problems across different systems just as Mac OS X and Linux as they are
generated slightly differently.</p>
<p>We can create simpler snapshots that are constant across systems by adding the
package <code>enzyme-to-json</code>. This plugin takes the components that we will be
mounting with <code>enzyme</code> and overrides the default snapshot that Jest would have
made.</p>
<p>We will install it as a development dependency with Yarn.</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code>yarn add --dev enzyme-to-json
</code></pre>
      </div>
<p>We then simply have to update the <code>"jest"</code> section of our <code>package.json</code> again
with a new configuration key <code>snapshotSerializers</code> which accepts an array of
serializers to be used.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// package.json

  "jest": {
<span class="token deleted">-    "setupTestFrameworkScriptFile": "./app/js/spec-helper.js"</span>
<span class="token inserted">+    "setupTestFrameworkScriptFile": "./app/js/spec-helper.js",</span>
<span class="token inserted">+    "snapshotSerializers": ["enzyme-to-json/serializer"]</span>
  },
</code></pre>
      </div>
<h2>CSS Modules and Jest</h2>
<p>So that Jest can understand that we are using CSS modules we must install the
<code>jest-css-modules</code> package.</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code>yarn add --dev jest-css-modules
</code></pre>
      </div>
<p>Again we update the <code>"jest"</code> section of the <code>package.json</code> to tell Jest to run
all test files through the <code>jest-css-modules</code> parser, which will prevent any
errors from occurring while running tests.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>  "jest": {
    "setupTestFrameworkScriptFile": "./app/js/spec-helper.js",
<span class="token deleted">-   "snapshotSerializers": ["enzyme-to-json/serializer"]</span>
<span class="token inserted">+   "snapshotSerializers": ["enzyme-to-json/serializer"],</span>
<span class="token inserted">+   "transform": {</span>
<span class="token inserted">+     ".*": "./node_modules/jest-css-modules"</span>
<span class="token inserted">+   }</span>
  },
</code></pre>
      </div>
<h2>Shared Mock Data</h2>
<p>Finally we will will add some mock data for the <code>points</code> array to the spec
helper so that it can be shared across all specs, instead of defining mock data
in every file. This prevents us from having to go through all tests are update
the mock data structure if our data changes.</p>
<p>Add the following mock data to <code>spec-helper.js</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/spec-helper.js

  import 'raf/polyfill';
  import { configure } from 'enzyme';
  import Adapter from 'enzyme-adapter-react-16';

  configure({ adapter: new Adapter() });

<span class="token inserted">+ export const pointsMock = [</span>
<span class="token inserted">+   {</span>
<span class="token inserted">+     id: 'point-1',</span>
<span class="token inserted">+     x: 450,</span>
<span class="token inserted">+     y: 110,</span>
<span class="token inserted">+     details: {</span>
<span class="token inserted">+       name: 'The Wall',</span>
<span class="token inserted">+       house: "Night's Watch",</span>
<span class="token inserted">+       words: 'Night gathers, and now my watch begins.'</span>
<span class="token inserted">+     },</span>
<span class="token inserted">+     favourite: true</span>
<span class="token inserted">+   },</span>
<span class="token inserted">+   {</span>
<span class="token inserted">+     id: 'point-2',</span>
<span class="token inserted">+     x: 375,</span>
<span class="token inserted">+     y: 355,</span>
<span class="token inserted">+     details: {</span>
<span class="token inserted">+       name: 'Winterfell',</span>
<span class="token inserted">+       house: 'Stark',</span>
<span class="token inserted">+       words: 'Winter is Coming'</span>
<span class="token inserted">+     },</span>
<span class="token inserted">+     favourite: false</span>
<span class="token inserted">+   }</span>
<span class="token inserted">+ ];</span>
</code></pre>
      </div>
<p>Now we everything we need to complete our testing is ready. We'll continue in
the next step by testing the <code>Map</code> component.</p>
<hr>
<ul>
<li><sup id="fn-1">[1]</sup>:
<a href="https://facebook.github.io/jest/docs/en/snapshot-testing.html">https://facebook.github.io/jest/docs/en/snapshot-testing.html</a></li>
<li><sup id="fn-2">[2]</sup>: <a href="https://en.wikipedia.org/wiki/Polyfill_(programming">https://en.wikipedia.org/wiki/Polyfill_(programming</a>)</li>
</ul></div><p class="next-step-link-wrapper" data-reactid="122"><a class="next-step-link" href="../../../tutorial/steps/21-testing-the-map/" data-reactid="123">Continue to Step 21: Testing the Map &raquo;</a></p></div></div></div></div></body></html>