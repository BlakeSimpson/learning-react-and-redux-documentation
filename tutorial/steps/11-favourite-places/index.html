<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-layouts-index-js-616843d721f40ddfd4aa.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-templates-post-js-00a9cc51cc7412ed4550.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/path---tutorial-steps-11-favourite-places-0e9d2c65ef46f667a1aa.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/app-2bd273fec2cf764aac7c.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"231608221292675":"app-2bd273fec2cf764aac7c.js","195351340454287":"component---src-templates-post-js-00a9cc51cc7412ed4550.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","35783957827783":"component---src-pages-index-js-74e63cc5e6a75c49970b.js","60335399758886":"path----d56a5c009c65cb248351.js","118799121156847":"path---tutorial-getting-started-56936c172d78e7730db9.js","135563891114638":"path---tutorial-links-76e6be0f6cb5cb701792.js","214057910109245":"path---tutorial-steps-1-setup-package-58c6235eb2f36712a8c2.js","206805960689390":"path---tutorial-steps-10-pointer-details-5784af39da65955ee4e9.js","132978315027406":"path---tutorial-steps-11-favourite-places-0e9d2c65ef46f667a1aa.js","17971265750924":"path---tutorial-steps-12-favourites-list-362bd2845395696c4430.js","237949882381156":"path---tutorial-steps-13-adding-redux-c5fba5af9cc9d017c0df.js","1033659491245":"path---tutorial-steps-14-managing-favourites-with-redux-e74cbe2c3ce2b9c1fe85.js","86486738803091":"path---tutorial-steps-2-webpack-3ecc9ce5939e554ee0e8.js","280001054470434":"path---tutorial-steps-3-babel-567aa00093cff69710d5.js","46414529011902":"path---tutorial-steps-4-eslint-and-prettier-0c8391a3bd490e010419.js","97838741517688":"path---tutorial-steps-5-starting-react-98578076d35558c92792.js","235804080668192":"path---tutorial-steps-6-adding-the-map-13244ee8ab58e6fa198a.js","172606999645938":"path---tutorial-steps-7-styling-with-postcss-ffcaa14a9b69bf0d4eb7.js","46098157417510":"path---tutorial-steps-8-webpack-dev-server-114c78d62291ca6a6e7b.js","165467095976884":"path---tutorial-steps-9-adding-points-to-the-map-d7c604d13c0bafe9beb9.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-5ba42b6a8a4132944cd1.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-616843d721f40ddfd4aa.js"}
            //]]>
            </script><title data-react-helmet="true">Learning React and Redux</title><meta data-react-helmet="true" name="description" content="A tutorial for learning React and Redux"/><meta data-react-helmet="true" name="keywords" content="react, redux, tutorial"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js","/learning-react-and-redux-documentation/app-2bd273fec2cf764aac7c.js","/learning-react-and-redux-documentation/path---tutorial-steps-11-favourite-places-0e9d2c65ef46f667a1aa.js","/learning-react-and-redux-documentation/component---src-templates-post-js-00a9cc51cc7412ed4550.js","/learning-react-and-redux-documentation/component---src-layouts-index-js-616843d721f40ddfd4aa.js"
])
  </script><style id="gatsby-inlined-css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{max-width:100%;margin:0 0 1.45rem;padding:10px;//border:1px solid #ddd;box-shadow:0 3px 3px #000;background:#eee;border-radius:5px}h1{font-size:2.25rem}h1,h2{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{margin:0 0 1.45rem 1.45rem;padding:0;list-style-position:outside;list-style-image:none}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}pre,table{margin:0 0 1.45rem}table{padding:0;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{margin:0 0 1.45rem;padding:0}blockquote{padding-left:1rem;padding-right:1rem;margin:0;margin-bottom:1.45rem;border-left:4px solid #ddd}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);border:none;height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:0;padding-top:.2em;padding-bottom:.2em;padding-left:.4rem;margin-right:.2rem}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}#toc{position:absolute;top:120px;right:15px;padding:20px 10px 5px;background:#eee;border-radius:5px;margin:0 0 15px 15px;box-shadow:0 0 1px 1px rgba(0,0,0,.2)}#toc ul{margin-bottom:0;list-style-type:square}.gatsby-resp-image-wrapper{border-radius:5px;box-shadow:0 0 3px rgba(0,0,0,.5);padding-bottom:13px}.gatsby-resp-image-background-image{border-radius:5px}.gatsby-highlight{margin-bottom:20px}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="464543336"><!-- react-empty: 2 --><div style="background:#222;margin-bottom:2.5rem;" data-reactid="3"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem;" data-reactid="4"><h1 style="margin:0;" data-reactid="5"><a style="color:white;text-decoration:none;font-size:0.9em;line-height:1.5em;" href="/learning-react-and-redux-documentation/" data-reactid="6">Learning React and Redux</a></h1></div></div><div style="margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0;" data-reactid="7"><div data-reactid="8"><aside id="toc" data-reactid="9"><ul data-reactid="10"><li data-reactid="11"><a href="/learning-react-and-redux-documentation/tutorial/getting-started" data-reactid="12"><!-- react-text: 13 -->Getting Started<!-- /react-text --></a></li><li data-reactid="14"><a href="/learning-react-and-redux-documentation/tutorial/steps/1-setup-package/" data-reactid="15"><!-- react-text: 16 -->Step 1: <!-- /react-text --><!-- react-text: 17 -->Generate the package.json<!-- /react-text --></a></li><li data-reactid="18"><a href="/learning-react-and-redux-documentation/tutorial/steps/2-webpack/" data-reactid="19"><!-- react-text: 20 -->Step 2: <!-- /react-text --><!-- react-text: 21 -->Setting up Webpack<!-- /react-text --></a></li><li data-reactid="22"><a href="/learning-react-and-redux-documentation/tutorial/steps/3-babel/" data-reactid="23"><!-- react-text: 24 -->Step 3: <!-- /react-text --><!-- react-text: 25 -->Setting up Babel<!-- /react-text --></a></li><li data-reactid="26"><a href="/learning-react-and-redux-documentation/tutorial/steps/4-eslint-and-prettier/" data-reactid="27"><!-- react-text: 28 -->Step 4: <!-- /react-text --><!-- react-text: 29 -->ESLint and Prettier<!-- /react-text --></a></li><li data-reactid="30"><a href="/learning-react-and-redux-documentation/tutorial/steps/5-starting-react/" data-reactid="31"><!-- react-text: 32 -->Step 5: <!-- /react-text --><!-- react-text: 33 -->Starting with React<!-- /react-text --></a></li><li data-reactid="34"><a href="/learning-react-and-redux-documentation/tutorial/steps/6-adding-the-map/" data-reactid="35"><!-- react-text: 36 -->Step 6: <!-- /react-text --><!-- react-text: 37 -->Adding the Map<!-- /react-text --></a></li><li data-reactid="38"><a href="/learning-react-and-redux-documentation/tutorial/steps/7-styling-with-postcss/" data-reactid="39"><!-- react-text: 40 -->Step 7: <!-- /react-text --><!-- react-text: 41 -->CSS Modules and PostCSS<!-- /react-text --></a></li><li data-reactid="42"><a href="/learning-react-and-redux-documentation/tutorial/steps/8-webpack-dev-server/" data-reactid="43"><!-- react-text: 44 -->Step 8: <!-- /react-text --><!-- react-text: 45 -->Webpack Dev Server<!-- /react-text --></a></li><li data-reactid="46"><a href="/learning-react-and-redux-documentation/tutorial/steps/9-adding-points-to-the-map/" data-reactid="47"><!-- react-text: 48 -->Step 9: <!-- /react-text --><!-- react-text: 49 -->Adding Points to the Map<!-- /react-text --></a></li><li data-reactid="50"><a href="/learning-react-and-redux-documentation/tutorial/steps/10-pointer-details/" data-reactid="51"><!-- react-text: 52 -->Step 10: <!-- /react-text --><!-- react-text: 53 -->Showing the Details of each Point<!-- /react-text --></a></li><li data-reactid="54"><a href="/learning-react-and-redux-documentation/tutorial/steps/11-favourite-places/" data-reactid="55"><!-- react-text: 56 -->Step 11: <!-- /react-text --><!-- react-text: 57 -->Favourite Places<!-- /react-text --></a></li><li data-reactid="58"><a href="/learning-react-and-redux-documentation/tutorial/steps/12-favourites-list/" data-reactid="59"><!-- react-text: 60 -->Step 12: <!-- /react-text --><!-- react-text: 61 -->Favourites List<!-- /react-text --></a></li><li data-reactid="62"><a href="/learning-react-and-redux-documentation/tutorial/steps/13-adding-redux/" data-reactid="63"><!-- react-text: 64 -->Step 13: <!-- /react-text --><!-- react-text: 65 -->Starting with Redux<!-- /react-text --></a></li><li data-reactid="66"><a href="/learning-react-and-redux-documentation/tutorial/steps/14-managing-favourites-with-redux/" data-reactid="67"><!-- react-text: 68 -->Step 14: <!-- /react-text --><!-- react-text: 69 -->Managing Favourites with Redux<!-- /react-text --></a></li><li data-reactid="70"><a href="/learning-react-and-redux-documentation/tutorial/links" data-reactid="71"><!-- react-text: 72 -->Links<!-- /react-text --></a></li></ul></aside><h1 data-reactid="73">Favourite Places</h1><h3 data-reactid="74"><!-- react-text: 75 -->Step <!-- /react-text --><!-- react-text: 76 -->11<!-- /react-text --></h3><div data-reactid="77"><p>Our next step will be adding a "favourite" state to our data, so that the user
can chose which points on the map are his favourite and render them differently.</p>
<p>We will start by making the first item in our data a favourite point by default.
Update the <code>points</code> array in <code>Map.jsx</code> with the <code>favourite</code> key set to <code>true</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Map/Map.jsx

const points = [
  {
    x: 450,
    y: 110,
    details: {
      name: 'The Wall',
      house: "Night's Watch",
      words: 'Night gathers, and now my watch begins.'
    },
<span class="token inserted">+   favourite: true</span>
  },
  ....
</code></pre>
      </div>
<p>We will be showing a different pointer image when a pointer has the "favourite"
state, so let's copy that asset into the application via our terminal.</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code><span class="token function">cp</span> .assets/pointer-fav.png app/img
</code></pre>
      </div>
<p>We will then add a new style rule to the <code>Pointer.css</code> file which will set the
background image to the new image. Add the <code>.favourite</code> class after the
<code>.pointer</code> class.</p>
<div class="gatsby-highlight">
      <pre class="language-css"><code><span class="token comment">/* app/js/components/Pointer/Pointer.css */</span>

<span class="token selector">.favourite</span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url('../../../img/pointer-fav.png')</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>Next we will update the internal <code>state</code> of the <code>Pointer</code> component and tell the
component if this point is a favourite or not. Since the <code>favourite</code> prop is now
being passed in from our data we have to update the <code>propTypes</code> and set
<code>favourite</code> key in our state via the passed in props.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/Pointer.jsx

constructor (props) {
  super(props);

  this.state = {
    open: false,
<span class="token inserted">+   favourite: props.favourite</span>
  };

  this.toggle = this.toggle.bind(this);
}
</code></pre>
      </div>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/Pointer.jsx

Pointer.propTypes = {
  details: PropTypes.object.isRequired,
  x: PropTypes.number.isRequired,
  y: PropTypes.number.isRequired,
<span class="token inserted">+ favourite: PropTypes.bool</span>
};
</code></pre>
      </div>
<p>Finally we will again use the <code>classnames</code> library to conditionally apply the
<code>.favourite</code> style to the existing <code>.pointer</code> style, based on the state.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/Pointer.jsx

render () {
  const { x, y, details } = this.props;
  const { name, house, words } = details;
<span class="token inserted">+</span>
<span class="token inserted">+ const pointerClasses = classNames(styles.pointer, {</span>
<span class="token inserted">+   [styles.favourite]: this.state.favourite</span>
<span class="token inserted">+ });</span>
<span class="token inserted">+</span>
  const detailsClasses = classNames(styles.details, {
    [styles.hidden]: !this.state.open
  });

  return (
    &lt;div
      className={pointerClasses}
      style={{ left: x, top: y }}
      onClick={this.toggle}
    >
<span class="token deleted">-     &lt;div className={styles.pointer}></span>
<span class="token inserted">+     &lt;div className={detailsClasses}></span>
        &lt;header className={styles.headline}>
          &lt;h3>{name}&lt;/h3>
          &lt;a href="#" className={styles.close} onClick={this.toggle}>
            &amp;times;
          &lt;/a>
        &lt;/header>

        &lt;p>House: {house}&lt;/p>
        &lt;p>Words: {words}&lt;/p>
      &lt;/div>
    &lt;/div>
  );
}
</code></pre>
      </div>
<p>If you look at the browser you will seethe first point on the map now has a red
background image instead of simply being yellow.</p>
<p><div>
          <a
            class="gatsby-resp-image-link"
            title="original image"
            href="/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-f7e5f.png"
            style="display: block"
            target="_blank"
          >
            <div
              class="gatsby-resp-image-wrapper"
              style="position: relative; z-index: -1; "
            >
              <div
                class="gatsby-resp-image-background-image"
                style="padding-bottom: 51.55038759689923%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACiUlEQVQozz2SbS/bURiH+xE2Q1vaanXtqAlmC1okHobI3sg2yVLmoVQ9ZzUP66qqLVpPMfPCJMJkS2SatbFKicQrMbaYfaNr5/9nXtwvTs65r3Pdv3MUykwdGr2RQCjE2dkZ5+fnXF5ecnV1RSwWY2dnh2QyycnJCYnEPtNBP6W2CtRaPQ8LisjQGcjMyiY9QyuXQtqQKhb7LgNPT0+5+vtHAC85OkqysfGJre1tDg8PSRz84Pj4iL3oLlP+KeytLWgNRnLy8m+hiv/kuoZGlpaX+fX7J+cXZ8LygsjCPKNjY2xubsjgZCJKIirBE3ze2cKcayG/qJih4X6s5VakaRV309WkqTU3N2ioqn1KPB4VsAhGcy5Ol4uBoUH2vn1lP77LQfwLyYMoqythTLl52CorCc++p7SsREyahSJFqSZVlYlKkyVKJ2eSbc7BYLZgeGChoPgJbvcgc7OTLEW8bK8HWf/gYXV+hNqacvSmHMorSlHr9DJHGKpuA5WUM4RpXn4+L5tqZesyayne8R48b9uJ+LpYCfUS9HSyFhlkuLeZ+oZqymwlosdyneE9QZXI0kKTpaew6Dpgo8mMVrx+Y30lHrediTd2fONt+N+1E/Q6mPd3szDdQ8DjYG7Kib254SbDNBUpygwZqNbq6LA/o7rKxqvntXhH7HhGWvCOthIWdh73a4KTXYSnr00Xp13MTnYz0N1EXY1VfgvFnVSlbCjRs00mAl6nsOhiaqKDGXE47HcRCTiZn+kVe50szfbzcWGY5VAfS6F+Qt4OSkoecd9suhn5xk4a05KXKxoGmPF145twCLAD31gbc/4u1hbFeJMOwoEecWaQhWAf/c4XFD8ulHulvyxJ/QOtsqAPoNjXSQAAAABJRU5ErkJggg=='); background-size: cover;"
              >
                <img
                  class="gatsby-resp-image-image"
                  style="width: 100%; margin: 0; vertical-align: middle; position: absolute; box-shadow: inset 0px 0px 0px 400px white;"
                  alt="Img: The map rendered with favourite pointers"
                  title=""
                  src="/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-ba9a0.png"
                  srcset="/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-125fe.png 163w,/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-637de.png 325w,/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-ba9a0.png 650w,/static/favourite-pointer-2b5ab3bbc3bed0e2384e7f32f04859db-f7e5f.png 774w"
                  sizes="(max-width: 650px) 100vw, 650px"
                />
              </div>
            </div>
          </a>
          </div></p>
<h2>Toggle the favourite state</h2>
<p>Now we have the favourite state working if it was originally defined in the
<code>points</code> dataset. Let's work on adding controls so the user can choose which
points to make a favourite, or not.</p>
<p>We will be adding a plus/minus link beside the close link in the details popup
to control the favourite state. For that reason we will first of all refactor
our styles for the controls, so that the <code>.close</code> button style can be shared.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>/* app/js/components/Pointer/Pointer.css */

<span class="token inserted">+ .detailsControls {</span>
<span class="token inserted">+   .control {</span>
<span class="token inserted">+     margin-left: 10px;</span>
<span class="token inserted">+   }</span>
<span class="token inserted">+ }</span>
<span class="token inserted">+</span>
<span class="token deleted">- .close {</span>
<span class="token inserted">+ .control {</span>
</code></pre>
      </div>
<p>We will then also have to update our popup template so that the close link and
the new favourite toggle link are inside of the <code>.designControls</code> wrapper and
that both links now have the class name <code>.control</code>.</p>
<p>The favourite toggle link will render either a <code>+</code> or <code>-</code> text inside of it
conditionally based on the current favourite state.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/Pointer.jsx

  &lt;header className={styles.headline}>
    &lt;h3>{name}&lt;/h3>
<span class="token deleted">-   &lt;a href="#" className={styles.close} onClick={this.toggle}></span>
<span class="token deleted">-     &amp;times;</span>
<span class="token deleted">-   &lt;/a></span>
<span class="token inserted">+</span>
<span class="token inserted">+   &lt;div className={styles.detailsControls}></span>
<span class="token inserted">+     &lt;a href="#" className={styles.control}></span>
<span class="token inserted">+       {this.state.favourite ? '–' : '+'}</span>
<span class="token inserted">+     &lt;/a></span>
<span class="token inserted">+</span>
<span class="token inserted">+     &lt;a href="#" className={styles.control} onClick={this.toggle}></span>
<span class="token inserted">+       &amp;times;</span>
<span class="token inserted">+     &lt;/a></span>
<span class="token inserted">+   &lt;/div></span>
  &lt;/header>
</code></pre>
      </div>
<p>We will now a new method called <code>favourite</code> that is similar to the <code>toggle</code>
method. It will read the current value of <code>this.state.favourite</code> and set a new
state with the toggled (opposite) value. Add this method below <code>toggle</code> and
remember to bind its context in the constructor.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/Pointer.jsx

constructor (props) {
  super(props);

  this.state = {
    open: false,
    favourite: props.favourite
  };

  this.toggle = this.toggle.bind(this);
<span class="token inserted">+ this.favourite = this.favourite.bind(this);</span>
}

...

<span class="token inserted">+favourite () {</span>
<span class="token inserted">+  this.setState({ favourite: !this.state.favourite });</span>
<span class="token inserted">+}</span>

render () {
...
</code></pre>
      </div>
<p>The final step is to add the onClick handler for the <code>favourite</code> method.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/Pointer.jsx

<span class="token deleted">- &lt;a href="#" className={styles.control}></span>
<span class="token inserted">+ &lt;a href="#" className={styles.control} onClick={this.favourite}></span>
    {this.state.favourite ? '–' : '+'}
  &lt;/a>
</code></pre>
      </div>
<p>When you now click on a pointer to open the details popup, you can click on the
<code>+</code> or <code>-</code> symbol and see that it switches each time. If you close the popup you
will see that the favourite state has been reflected in the pointer background
image also.</p></div></div></div></div></div></body></html>