<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-layouts-index-js-616843d721f40ddfd4aa.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-templates-post-js-00a9cc51cc7412ed4550.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/path---tutorial-steps-16-ids-for-points-7f025b2126fd4a194a91.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/app-65e0f0a6b28f31c00c34.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"231608221292675":"app-65e0f0a6b28f31c00c34.js","195351340454287":"component---src-templates-post-js-00a9cc51cc7412ed4550.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","35783957827783":"component---src-pages-index-js-74e63cc5e6a75c49970b.js","60335399758886":"path----d56a5c009c65cb248351.js","118799121156847":"path---tutorial-getting-started-83917138c26b88024ad6.js","135563891114638":"path---tutorial-links-eaf4715ce675378bfd5f.js","214057910109245":"path---tutorial-steps-1-setup-package-ad1d836d54d28dc81c90.js","206805960689390":"path---tutorial-steps-10-pointer-details-b8e407bcf55ebb772980.js","132978315027406":"path---tutorial-steps-11-favourite-places-0b5bfa8cfbaa78a3895d.js","17971265750924":"path---tutorial-steps-12-favourites-list-0a38a5393a44f71325a1.js","237949882381156":"path---tutorial-steps-13-adding-redux-d946f968b9219e99964f.js","1033659491245":"path---tutorial-steps-14-managing-favourites-with-redux-ea48198312dca31ff0b9.js","86486738803091":"path---tutorial-steps-2-webpack-7553a47abb01fcb13ec2.js","280001054470434":"path---tutorial-steps-3-babel-91eff001299077647cdc.js","46414529011902":"path---tutorial-steps-4-eslint-and-prettier-b747e1901f0427c970fd.js","97838741517688":"path---tutorial-steps-5-starting-react-31a4d5e6cd5da01c752f.js","235804080668192":"path---tutorial-steps-6-adding-the-map-d34899d1bef442e2cc69.js","172606999645938":"path---tutorial-steps-7-styling-with-postcss-52b0b9380e1c9cf9f086.js","46098157417510":"path---tutorial-steps-8-webpack-dev-server-4ddfc951ec25b9a63197.js","165467095976884":"path---tutorial-steps-9-adding-points-to-the-map-5ef5a10430f3a66df66b.js","181225226889932":"path---tutorial-steps-15-removing-favourites-from-the-list-95fd328ec7d47d135480.js","118277567452233":"path---tutorial-steps-16-ids-for-points-7f025b2126fd4a194a91.js","119454655196054":"path---tutorial-steps-17-testing-with-jest-09f14b13bac7c4de613f.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-fc74e11dcaa2304dcd41.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-616843d721f40ddfd4aa.js"}
            //]]>
            </script><title data-react-helmet="true">Learning React and Redux</title><meta data-react-helmet="true" name="description" content="A tutorial for learning React and Redux"/><meta data-react-helmet="true" name="keywords" content="react, redux, tutorial"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js","/learning-react-and-redux-documentation/app-65e0f0a6b28f31c00c34.js","/learning-react-and-redux-documentation/path---tutorial-steps-16-ids-for-points-7f025b2126fd4a194a91.js","/learning-react-and-redux-documentation/component---src-templates-post-js-00a9cc51cc7412ed4550.js","/learning-react-and-redux-documentation/component---src-layouts-index-js-616843d721f40ddfd4aa.js"
])
  </script><style id="gatsby-inlined-css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{max-width:100%;margin:0 0 1.45rem;padding:10px;//border:1px solid #ddd;box-shadow:0 3px 3px #000;background:#eee;border-radius:5px}h1{font-size:2.25rem}h1,h2{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{margin:0 0 1.45rem 1.45rem;padding:0;list-style-position:outside;list-style-image:none}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}pre,table{margin:0 0 1.45rem}table{padding:0;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{margin:0 0 1.45rem;padding:0}blockquote{padding-left:1rem;padding-right:1rem;margin:0;margin-bottom:1.45rem;border-left:4px solid #ddd}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);border:none;height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:0;padding-top:.2em;padding-bottom:.2em;padding-left:.4rem;margin-right:.2rem}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}#toc{position:absolute;top:120px;right:15px;padding:20px 10px 5px;background:#eee;border-radius:5px;margin:0 0 15px 15px;box-shadow:0 0 1px 1px rgba(0,0,0,.2)}#toc ul{margin-bottom:0;list-style-type:square}.gatsby-resp-image-wrapper{border-radius:5px;box-shadow:0 0 3px rgba(0,0,0,.5);padding-bottom:13px}.gatsby-resp-image-background-image{border-radius:5px}.gatsby-highlight{margin-bottom:20px}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="-1290844032"><!-- react-empty: 2 --><div style="background:#222;margin-bottom:2.5rem;" data-reactid="3"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem;" data-reactid="4"><h1 style="margin:0;" data-reactid="5"><a style="color:white;text-decoration:none;font-size:0.9em;line-height:1.5em;" href="/learning-react-and-redux-documentation/" data-reactid="6">Learning React and Redux</a></h1></div></div><div style="margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0;" data-reactid="7"><div data-reactid="8"><aside id="toc" data-reactid="9"><ul data-reactid="10"><li data-reactid="11"><a href="/learning-react-and-redux-documentation/tutorial/getting-started" data-reactid="12"><!-- react-text: 13 -->Getting Started<!-- /react-text --></a></li><li data-reactid="14"><a href="/learning-react-and-redux-documentation/tutorial/steps/1-setup-package/" data-reactid="15"><!-- react-text: 16 -->Step 1: <!-- /react-text --><!-- react-text: 17 -->Generate the package.json<!-- /react-text --></a></li><li data-reactid="18"><a href="/learning-react-and-redux-documentation/tutorial/steps/2-webpack/" data-reactid="19"><!-- react-text: 20 -->Step 2: <!-- /react-text --><!-- react-text: 21 -->Setting up Webpack<!-- /react-text --></a></li><li data-reactid="22"><a href="/learning-react-and-redux-documentation/tutorial/steps/3-babel/" data-reactid="23"><!-- react-text: 24 -->Step 3: <!-- /react-text --><!-- react-text: 25 -->Setting up Babel<!-- /react-text --></a></li><li data-reactid="26"><a href="/learning-react-and-redux-documentation/tutorial/steps/4-eslint-and-prettier/" data-reactid="27"><!-- react-text: 28 -->Step 4: <!-- /react-text --><!-- react-text: 29 -->ESLint and Prettier<!-- /react-text --></a></li><li data-reactid="30"><a href="/learning-react-and-redux-documentation/tutorial/steps/5-starting-react/" data-reactid="31"><!-- react-text: 32 -->Step 5: <!-- /react-text --><!-- react-text: 33 -->Starting with React<!-- /react-text --></a></li><li data-reactid="34"><a href="/learning-react-and-redux-documentation/tutorial/steps/6-adding-the-map/" data-reactid="35"><!-- react-text: 36 -->Step 6: <!-- /react-text --><!-- react-text: 37 -->Adding the Map<!-- /react-text --></a></li><li data-reactid="38"><a href="/learning-react-and-redux-documentation/tutorial/steps/7-styling-with-postcss/" data-reactid="39"><!-- react-text: 40 -->Step 7: <!-- /react-text --><!-- react-text: 41 -->CSS Modules and PostCSS<!-- /react-text --></a></li><li data-reactid="42"><a href="/learning-react-and-redux-documentation/tutorial/steps/8-webpack-dev-server/" data-reactid="43"><!-- react-text: 44 -->Step 8: <!-- /react-text --><!-- react-text: 45 -->Webpack Dev Server<!-- /react-text --></a></li><li data-reactid="46"><a href="/learning-react-and-redux-documentation/tutorial/steps/9-adding-points-to-the-map/" data-reactid="47"><!-- react-text: 48 -->Step 9: <!-- /react-text --><!-- react-text: 49 -->Adding Points to the Map<!-- /react-text --></a></li><li data-reactid="50"><a href="/learning-react-and-redux-documentation/tutorial/steps/10-pointer-details/" data-reactid="51"><!-- react-text: 52 -->Step 10: <!-- /react-text --><!-- react-text: 53 -->Showing the Details of each Point<!-- /react-text --></a></li><li data-reactid="54"><a href="/learning-react-and-redux-documentation/tutorial/steps/11-favourite-places/" data-reactid="55"><!-- react-text: 56 -->Step 11: <!-- /react-text --><!-- react-text: 57 -->Favourite Places<!-- /react-text --></a></li><li data-reactid="58"><a href="/learning-react-and-redux-documentation/tutorial/steps/12-favourites-list/" data-reactid="59"><!-- react-text: 60 -->Step 12: <!-- /react-text --><!-- react-text: 61 -->Favourites List<!-- /react-text --></a></li><li data-reactid="62"><a href="/learning-react-and-redux-documentation/tutorial/steps/13-adding-redux/" data-reactid="63"><!-- react-text: 64 -->Step 13: <!-- /react-text --><!-- react-text: 65 -->Starting with Redux<!-- /react-text --></a></li><li data-reactid="66"><a href="/learning-react-and-redux-documentation/tutorial/steps/14-managing-favourites-with-redux/" data-reactid="67"><!-- react-text: 68 -->Step 14: <!-- /react-text --><!-- react-text: 69 -->Managing Favourites with Redux<!-- /react-text --></a></li><li data-reactid="70"><a href="/learning-react-and-redux-documentation/tutorial/steps/15-removing-favourites-from-the-list/" data-reactid="71"><!-- react-text: 72 -->Step 15: <!-- /react-text --><!-- react-text: 73 -->Removing Favourites from the List<!-- /react-text --></a></li><li data-reactid="74"><a href="/learning-react-and-redux-documentation/tutorial/steps/16-ids-for-points/" data-reactid="75"><!-- react-text: 76 -->Step 16: <!-- /react-text --><!-- react-text: 77 -->Adding IDs to the Points Data<!-- /react-text --></a></li><li data-reactid="78"><a href="/learning-react-and-redux-documentation/tutorial/steps/17-testing-with-jest/" data-reactid="79"><!-- react-text: 80 -->Step 17: <!-- /react-text --><!-- react-text: 81 -->Testing with Jest<!-- /react-text --></a></li><li data-reactid="82"><a href="/learning-react-and-redux-documentation/tutorial/links" data-reactid="83"><!-- react-text: 84 -->Links<!-- /react-text --></a></li></ul></aside><h1 data-reactid="85">Adding IDs to the Points Data</h1><h3 data-reactid="86"><!-- react-text: 87 -->Step <!-- /react-text --><!-- react-text: 88 -->16<!-- /react-text --></h3><div data-reactid="89"><p>As we saw in the last step, using an array index to manage our points data is
not the best approach as it quickly leads to bugs. We will now update our
<code>points</code> array stored in the <code>points</code> reducer so that each item in the list has
an <code>id</code> property.</p>
<p>Add an <code>id</code> property to each item in the array starting with the format
<code>point-[name]</code> separated by hyphens. Of course the ID could also be a number, a
UUID, or any other unique value.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/reducers/points.js

  const initialState = [
    {
<span class="token inserted">+     id: 'point-the-wall',</span>
      x: 450,
      y: 110,
      details: {
        name: 'The Wall',
        house: "Night's Watch",
        words: 'Night gathers, and now my watch begins.'
      },
      favourite: true
    },
    {
<span class="token inserted">+     id: 'point-winterfell',</span>
      x: 375,
      y: 355,
      details: {
        name: 'Winterfell',
        house: 'Stark',
        words: 'Winter is Coming'
      },
      favourite: true
    },
    {
<span class="token inserted">+     id: 'point-the-twins',</span>
      x: 345,
      y: 705,
      details: {
        name: 'The Twins',
        house: 'Frey',
        words: 'We Stand Together'
      }
    },
    {
<span class="token inserted">+     id: 'point-iron-islands',</span>
      x: 155,
      y: 775,
      details: {
        name: 'The Iron Islands',
        house: 'Greyjoy',
        words: 'We Do Not Sow'
      }
    },
    {
<span class="token inserted">+     id: 'point-casterly-rock',</span>
      x: 150,
      y: 945,
      details: {
        name: 'Casterly Rock',
        house: 'Lannister',
        words: 'Hear me Roar!'
      }
    },
    {
<span class="token inserted">+     id: 'point-kings-landing',</span>
      x: 545,
      y: 1000,
      details: {
        name: "King's Landing",
        house: 'Baratheon',
        words: 'Ours is the Fury'
      }
    },
    {
<span class="token inserted">+     id: 'point-highgarden',</span>
      x: 250,
      y: 1190,
      details: {
        name: 'Highgarden',
        house: 'Tyrell',
        words: 'Growing Strong'
      }
    }
  ];
</code></pre>
      </div>
<p>The actual reducer and the <code>updateFavouriteState</code> function also have to be
updated to update the array by searching for the given ID instead of looking up
an array index.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/reducers/points.js


<span class="token deleted">- const updateFavouriteState = (index, newValue, points) => {</span>
<span class="token deleted">-   const updatedPoint = points[index];</span>
<span class="token inserted">+ const updateFavouriteState = (id, newValue, points) => {</span>
<span class="token inserted">+   const updatedPoint = points.filter(point => point.id === id)[0];</span>
<span class="token inserted">+   const index = points.indexOf(updatedPoint);</span>
<span class="token inserted">+</span>
    updatedPoint.favourite = newValue;

    return [...points.slice(0, index), updatedPoint, ...points.slice(index + 1)];
  };

  const points = (state = initialState, action) => {
<span class="token deleted">- let index;</span>
<span class="token inserted">+ let id;</span>

  switch (action.type) {
    case FAVOURITE_ADDED:
<span class="token deleted">-     index = action.payload.index;</span>
<span class="token deleted">-     return updateFavouriteState(index, true, state);</span>
<span class="token inserted">+     id = action.payload.id;</span>
<span class="token inserted">+     return updateFavouriteState(id, true, state);</span>

    case FAVOURITE_REMOVED:
<span class="token deleted">-     index = action.payload.index;</span>
<span class="token deleted">-     return updateFavouriteState(index, false, state);</span>
<span class="token inserted">+     id = action.payload.id;</span>
<span class="token inserted">+     return updateFavouriteState(id, false, state);</span>

    default:
      return state;
    }
  };
</code></pre>
      </div>
<p>Next we will update our two actions to accept the <code>id</code> instead of the <code>index</code>
and also set this inside of the <code>payload</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/actions/points.js

<span class="token deleted">-  export const addFavourite = index => {</span>
<span class="token inserted">+  export const addFavourite = id => {</span>
    return {
      type: FAVOURITE_ADDED,
      payload: {
<span class="token deleted">-       index: index</span>
<span class="token deleted">-       id: id</span>
      }
    };
  };

<span class="token deleted">- export const removeFavourite = index => {</span>
<span class="token inserted">+ export const removeFavourite = id => {</span>
    return {
      type: FAVOURITE_REMOVED,
      payload: {
<span class="token deleted">-       index: index</span>
<span class="token inserted">+       id: id</span>
      }
    };
  };
</code></pre>
      </div>
<p>Next the <code>Map</code> component no longer needs to pass the <code>index</code> prop to the
<code>Pointer</code> since the <code>id</code> is already inside of the <code>...props</code> that are spread
when the <code>Map</code> creates the <code>Pointer</code>.</p>
<p>We will additionally update the <code>key</code> prop to be the ID since it is guaranteed
to be unique and it is actually anti-pattern <sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> to use array indexes for the
<code>key</code> property because as items are added or removed, the indexes are reused and
React can get confused, meaning renders become buggy.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Map/Map.jsx

  export const Map = ({ points }) => {
    return (
      &lt;div className={styles.map}>
<span class="token deleted">-       {points.map((point, index) => (</span>
<span class="token deleted">-         &lt;Pointer {...point} index={index} key={index} /></span>
<span class="token deleted">-       ))}</span>
<span class="token inserted">+      {points.map((point, index) => &lt;Pointer {...point} key={point.id} />)}</span>
      &lt;/div>
    );
  };
</code></pre>
      </div>
<p>The <code>FavouritesList</code> now needs to stop passing the <code>index</code> of it's list row to
the <code>removeFavourite</code> action (which is causing the list bug) and instead pass
the ID.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/FavouritesList/FavouritesList.jsx

  export const FavouritesList = ({ points, remove }) => {
    const favourites = points.filter(point => point.favourite);

    return (
      &lt;div className={styles.listWrapper}>
        &lt;h3>Favourites&lt;/h3>
        &lt;ul className={styles.list}>
<span class="token deleted">-         {favourites.map((favourite, index) => (</span>
<span class="token inserted">+         {favourites.map(favourite => (</span>
<span class="token deleted">-           &lt;li key={index}></span>
<span class="token inserted">+           &lt;li key={favourite.id}></span>
<span class="token deleted">-             &lt;button onClick={() => remove(index)} className={styles.remove}></span>
<span class="token inserted">+             &lt;button</span>
<span class="token inserted">+               onClick={() => remove(favourite.id)}</span>
<span class="token inserted">+               className={styles.remove}</span>
              >
                &amp;times;
              &lt;/button>

              &lt;span>{favourite.details.name}&lt;/span>
            &lt;/li>
          ))}
        &lt;/ul>
      &lt;/div>
    );
  };
  ...

  const mapDispatchToProps = dispatch => {
    return {
<span class="token deleted">-     remove: index => {</span>
<span class="token deleted">-       dispatch(removeFavourite(index));</span>
<span class="token inserted">+     remove: id => {</span>
<span class="token inserted">+       dispatch(removeFavourite(id));</span>
      }
    };
  };

  ...
</code></pre>
      </div>
<p>Finally we will also update the <code>Pointer</code> component to pass the ID instead of
the index. Notice that the when updating the <code>propTypes</code> not only does "index"
change to "id" but the type changes from <code>number</code> to <code>string</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/Pointer.jsx

  class Pointer extends Component {

    ...

    favourite () {
<span class="token deleted">-     const { index, favourite, removeFavourite, addFavourite } = this.props;</span>
<span class="token inserted">+     const { id, favourite, removeFavourite, addFavourite } = this.props;</span>

      if (favourite) {
<span class="token deleted">-       removeFavourite(index);</span>
<span class="token inserted">+       removeFavourite(id);</span>
      } else {
<span class="token deleted">-       addFavourite(index);</span>
<span class="token inserted">+       addFavourite(id);</span>
      }
    }

    ...

  }

  ...

  Pointer.propTypes = {
    addFavourite: PropTypes.func,
    removeFavourite: PropTypes.func,
<span class="token deleted">-   index: PropTypes.number,</span>
<span class="token inserted">+   id: PropTypes.string,</span>
    details: PropTypes.object.isRequired,
    x: PropTypes.number.isRequired,
    y: PropTypes.number.isRequired,
    favourite: PropTypes.bool
  };

  const mapDispatchToProps = dispatch => {
    return {
<span class="token deleted">-     addFavourite: index => {</span>
<span class="token deleted">-       dispatch(addFavourite(index));</span>
<span class="token inserted">+     addFavourite: id => {</span>
<span class="token inserted">+       dispatch(addFavourite(id));</span>
      },

<span class="token deleted">-     removeFavourite: index => {</span>
<span class="token deleted">-       dispatch(removeFavourite(index));</span>
<span class="token inserted">+     removeFavourite: id => {</span>
<span class="token inserted">+       dispatch(removeFavourite(id));</span>
      }
    };
  };

  ...
</code></pre>
      </div>
<p>Take a look in the browser and again have a play around with adding favourites
on the map, removing them from the list and the map and you will see that due to
the unique IDs the map and list are now updating as expected.</p>
<hr>
<ul>
<li><sup id="fn-1">[1]</sup>:
<a href="https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318">https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318</a></li>
</ul></div></div></div></div></div></body></html>