<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-layouts-index-js-616843d721f40ddfd4aa.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-templates-post-js-00a9cc51cc7412ed4550.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/path---tutorial-steps-7-styling-with-postcss-52b0b9380e1c9cf9f086.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/app-65e0f0a6b28f31c00c34.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"231608221292675":"app-65e0f0a6b28f31c00c34.js","195351340454287":"component---src-templates-post-js-00a9cc51cc7412ed4550.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","35783957827783":"component---src-pages-index-js-74e63cc5e6a75c49970b.js","60335399758886":"path----d56a5c009c65cb248351.js","118799121156847":"path---tutorial-getting-started-83917138c26b88024ad6.js","135563891114638":"path---tutorial-links-eaf4715ce675378bfd5f.js","214057910109245":"path---tutorial-steps-1-setup-package-ad1d836d54d28dc81c90.js","206805960689390":"path---tutorial-steps-10-pointer-details-b8e407bcf55ebb772980.js","132978315027406":"path---tutorial-steps-11-favourite-places-0b5bfa8cfbaa78a3895d.js","17971265750924":"path---tutorial-steps-12-favourites-list-0a38a5393a44f71325a1.js","237949882381156":"path---tutorial-steps-13-adding-redux-d946f968b9219e99964f.js","1033659491245":"path---tutorial-steps-14-managing-favourites-with-redux-ea48198312dca31ff0b9.js","86486738803091":"path---tutorial-steps-2-webpack-7553a47abb01fcb13ec2.js","280001054470434":"path---tutorial-steps-3-babel-91eff001299077647cdc.js","46414529011902":"path---tutorial-steps-4-eslint-and-prettier-b747e1901f0427c970fd.js","97838741517688":"path---tutorial-steps-5-starting-react-31a4d5e6cd5da01c752f.js","235804080668192":"path---tutorial-steps-6-adding-the-map-d34899d1bef442e2cc69.js","172606999645938":"path---tutorial-steps-7-styling-with-postcss-52b0b9380e1c9cf9f086.js","46098157417510":"path---tutorial-steps-8-webpack-dev-server-4ddfc951ec25b9a63197.js","165467095976884":"path---tutorial-steps-9-adding-points-to-the-map-5ef5a10430f3a66df66b.js","181225226889932":"path---tutorial-steps-15-removing-favourites-from-the-list-95fd328ec7d47d135480.js","118277567452233":"path---tutorial-steps-16-ids-for-points-0dc321f2e94ae4ab12ce.js","119454655196054":"path---tutorial-steps-17-testing-with-jest-09f14b13bac7c4de613f.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-fc74e11dcaa2304dcd41.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-616843d721f40ddfd4aa.js"}
            //]]>
            </script><title data-react-helmet="true">Learning React and Redux</title><meta data-react-helmet="true" name="description" content="A tutorial for learning React and Redux"/><meta data-react-helmet="true" name="keywords" content="react, redux, tutorial"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js","/learning-react-and-redux-documentation/app-65e0f0a6b28f31c00c34.js","/learning-react-and-redux-documentation/path---tutorial-steps-7-styling-with-postcss-52b0b9380e1c9cf9f086.js","/learning-react-and-redux-documentation/component---src-templates-post-js-00a9cc51cc7412ed4550.js","/learning-react-and-redux-documentation/component---src-layouts-index-js-616843d721f40ddfd4aa.js"
])
  </script><style id="gatsby-inlined-css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{max-width:100%;margin:0 0 1.45rem;padding:10px;//border:1px solid #ddd;box-shadow:0 3px 3px #000;background:#eee;border-radius:5px}h1{font-size:2.25rem}h1,h2{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{margin:0 0 1.45rem 1.45rem;padding:0;list-style-position:outside;list-style-image:none}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}pre,table{margin:0 0 1.45rem}table{padding:0;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{margin:0 0 1.45rem;padding:0}blockquote{padding-left:1rem;padding-right:1rem;margin:0;margin-bottom:1.45rem;border-left:4px solid #ddd}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);border:none;height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:0;padding-top:.2em;padding-bottom:.2em;padding-left:.4rem;margin-right:.2rem}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}#toc{position:absolute;top:120px;right:15px;padding:20px 10px 5px;background:#eee;border-radius:5px;margin:0 0 15px 15px;box-shadow:0 0 1px 1px rgba(0,0,0,.2)}#toc ul{margin-bottom:0;list-style-type:square}.gatsby-resp-image-wrapper{border-radius:5px;box-shadow:0 0 3px rgba(0,0,0,.5);padding-bottom:13px}.gatsby-resp-image-background-image{border-radius:5px}.gatsby-highlight{margin-bottom:20px}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="770986886"><!-- react-empty: 2 --><div style="background:#222;margin-bottom:2.5rem;" data-reactid="3"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem;" data-reactid="4"><h1 style="margin:0;" data-reactid="5"><a style="color:white;text-decoration:none;font-size:0.9em;line-height:1.5em;" href="/learning-react-and-redux-documentation/" data-reactid="6">Learning React and Redux</a></h1></div></div><div style="margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0;" data-reactid="7"><div data-reactid="8"><aside id="toc" data-reactid="9"><ul data-reactid="10"><li data-reactid="11"><a href="/learning-react-and-redux-documentation/tutorial/getting-started" data-reactid="12"><!-- react-text: 13 -->Getting Started<!-- /react-text --></a></li><li data-reactid="14"><a href="/learning-react-and-redux-documentation/tutorial/steps/1-setup-package/" data-reactid="15"><!-- react-text: 16 -->Step 1: <!-- /react-text --><!-- react-text: 17 -->Generate the package.json<!-- /react-text --></a></li><li data-reactid="18"><a href="/learning-react-and-redux-documentation/tutorial/steps/2-webpack/" data-reactid="19"><!-- react-text: 20 -->Step 2: <!-- /react-text --><!-- react-text: 21 -->Setting up Webpack<!-- /react-text --></a></li><li data-reactid="22"><a href="/learning-react-and-redux-documentation/tutorial/steps/3-babel/" data-reactid="23"><!-- react-text: 24 -->Step 3: <!-- /react-text --><!-- react-text: 25 -->Setting up Babel<!-- /react-text --></a></li><li data-reactid="26"><a href="/learning-react-and-redux-documentation/tutorial/steps/4-eslint-and-prettier/" data-reactid="27"><!-- react-text: 28 -->Step 4: <!-- /react-text --><!-- react-text: 29 -->ESLint and Prettier<!-- /react-text --></a></li><li data-reactid="30"><a href="/learning-react-and-redux-documentation/tutorial/steps/5-starting-react/" data-reactid="31"><!-- react-text: 32 -->Step 5: <!-- /react-text --><!-- react-text: 33 -->Starting with React<!-- /react-text --></a></li><li data-reactid="34"><a href="/learning-react-and-redux-documentation/tutorial/steps/6-adding-the-map/" data-reactid="35"><!-- react-text: 36 -->Step 6: <!-- /react-text --><!-- react-text: 37 -->Adding the Map<!-- /react-text --></a></li><li data-reactid="38"><a href="/learning-react-and-redux-documentation/tutorial/steps/7-styling-with-postcss/" data-reactid="39"><!-- react-text: 40 -->Step 7: <!-- /react-text --><!-- react-text: 41 -->CSS Modules and PostCSS<!-- /react-text --></a></li><li data-reactid="42"><a href="/learning-react-and-redux-documentation/tutorial/steps/8-webpack-dev-server/" data-reactid="43"><!-- react-text: 44 -->Step 8: <!-- /react-text --><!-- react-text: 45 -->Webpack Dev Server<!-- /react-text --></a></li><li data-reactid="46"><a href="/learning-react-and-redux-documentation/tutorial/steps/9-adding-points-to-the-map/" data-reactid="47"><!-- react-text: 48 -->Step 9: <!-- /react-text --><!-- react-text: 49 -->Adding Points to the Map<!-- /react-text --></a></li><li data-reactid="50"><a href="/learning-react-and-redux-documentation/tutorial/steps/10-pointer-details/" data-reactid="51"><!-- react-text: 52 -->Step 10: <!-- /react-text --><!-- react-text: 53 -->Showing the Details of each Point<!-- /react-text --></a></li><li data-reactid="54"><a href="/learning-react-and-redux-documentation/tutorial/steps/11-favourite-places/" data-reactid="55"><!-- react-text: 56 -->Step 11: <!-- /react-text --><!-- react-text: 57 -->Favourite Places<!-- /react-text --></a></li><li data-reactid="58"><a href="/learning-react-and-redux-documentation/tutorial/steps/12-favourites-list/" data-reactid="59"><!-- react-text: 60 -->Step 12: <!-- /react-text --><!-- react-text: 61 -->Favourites List<!-- /react-text --></a></li><li data-reactid="62"><a href="/learning-react-and-redux-documentation/tutorial/steps/13-adding-redux/" data-reactid="63"><!-- react-text: 64 -->Step 13: <!-- /react-text --><!-- react-text: 65 -->Starting with Redux<!-- /react-text --></a></li><li data-reactid="66"><a href="/learning-react-and-redux-documentation/tutorial/steps/14-managing-favourites-with-redux/" data-reactid="67"><!-- react-text: 68 -->Step 14: <!-- /react-text --><!-- react-text: 69 -->Managing Favourites with Redux<!-- /react-text --></a></li><li data-reactid="70"><a href="/learning-react-and-redux-documentation/tutorial/steps/15-removing-favourites-from-the-list/" data-reactid="71"><!-- react-text: 72 -->Step 15: <!-- /react-text --><!-- react-text: 73 -->Removing Favourites from the List<!-- /react-text --></a></li><li data-reactid="74"><a href="/learning-react-and-redux-documentation/tutorial/steps/16-ids-for-points/" data-reactid="75"><!-- react-text: 76 -->Step 16: <!-- /react-text --><!-- react-text: 77 -->Adding IDs to the Points Data<!-- /react-text --></a></li><li data-reactid="78"><a href="/learning-react-and-redux-documentation/tutorial/steps/17-testing-with-jest/" data-reactid="79"><!-- react-text: 80 -->Step 17: <!-- /react-text --><!-- react-text: 81 -->Testing with Jest<!-- /react-text --></a></li><li data-reactid="82"><a href="/learning-react-and-redux-documentation/tutorial/links" data-reactid="83"><!-- react-text: 84 -->Links<!-- /react-text --></a></li></ul></aside><h1 data-reactid="85">CSS Modules and PostCSS</h1><h3 data-reactid="86"><!-- react-text: 87 -->Step <!-- /react-text --><!-- react-text: 88 -->7<!-- /react-text --></h3><div data-reactid="89"><p>We now have the map rendered to the screen but we don't yet have any styles.
Let's add the ability to style the project to make it look better. We could
style the project with a regular CSS but instead let's look at using CSS
modules.</p>
<h2>CSS Modules</h2>
<p>Because we are using Webpack, we can easily add support for CSS modules. CSS
Modules allow us to split our CSS into separate files that map to different
components of our application. Since we are using React, which is based on
components these 2 technologies play very well together.</p>
<p>An advantage of using CSS modules is that class names no longer need to be
unique across the whole application. In one module you could have a class name
called <code>.info</code> with a text color green. In another module you can also use the
name <code>.info</code> but have red text.</p>
<p>This is possible because when using a CSS module, you import it and apply an
imported style as a class name. When the application is compiled a unique hash
is built for each class name, so from your point of view as a developer 2
modules can use the same class name, in reality everything will be unique. For
example <sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code>// styles.css

.title {
  background-color: red;
}

// index.js

import styles from "./styles.css";

element.innerHTML =
  `<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${styles.title}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
     An example heading
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>`;
</code></pre>
      </div>
<p>This will compile to the final following HTML:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code>// index.html

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">
<span class="token selector">._styles__title_309571057</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_styles__title_309571057<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  An example heading
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
</code></pre>
      </div>
<h2>PostCSS</h2>
<p>CSS Modules are not in the official CSS spec, meaning we can not simply use them
in the browser. However, they are available with <a href="http://postcss.org/">PostCSS</a>.
PostCSS also offers the ability to use other new features available from "CSS
Next" <sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup> (features which are planned for the CSS spec but not implemented yet)
such as variables, mixins, nesting, and, functions. People who have used
SASS/SCSS may be familiar with should be familiar with these, except now we do
not need to the SASS plugin or filetypes.</p>
<h3>Installing PostCSS</h3>
<p>Let's start by integrating PostCSS with our Webpack build. As always, let's
first install the necessary dependencies. We will first the Webpack
<code>postcss-loader</code>. PostCSS features are separated into different packages
depending on the features you need so we will also install <code>postcss</code> for the
core PostCSS functionality, <code>postcss-nested</code> to have a SASS-like nested syntax,
and <code>autoprefixer</code> to automatically handle our vendor prefixes.</p>
<p>Finally we will install <code>style-loader</code> and <code>css-loader</code> as fallback loaders for
Webpack to use to process styles.</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code>yarn add postcss postcss-nested postcss-loader style-loader css-loader autoprefixer
</code></pre>
      </div>
<p>Next we will set up a configuration file for PostCSS, detailing which plugins we
want it to use. Create a file in the root of the project called
<code>postcss.config.js</code> and add the following configuration that tells PostCSS that
we want to use the nested and autoprefixer plugins.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token comment">// postcss.config.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'autoprefixer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'postcss-nested'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Finally we will extend the <code>loaders</code> section of our <code>webpack.config.js</code> file and
instruct Webpack to look for all <code>.css</code> files (except inside <code>node_modules/</code>)
and use the loaders we installed, in order.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code>loaders<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token operator">...</span>
  <span class="token punctuation">{</span>
    test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
    exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
    use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        loader<span class="token punctuation">:</span> <span class="token string">'style-loader'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        loader<span class="token punctuation">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          modules<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        loader<span class="token punctuation">:</span> <span class="token string">'postcss-loader'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token operator">...</span>
</code></pre>
      </div>
<p>First Webpack will try to parse styles and then look for regular CSS files. Note
that we tell Webpack that we plan to use CSS modules by passing <code>modules: true</code>
to the <code>css-loader</code> options. Finally we apply the PostCSS loader which will take
care of handling all of the modern syntax that we will be writing.</p>
<h2>Writing our first CSS Modules</h2>
<p>Everything is now setup, let's add our first CSS module for the <code>&#x3C;Map /></code>
component.</p>
<p>Create a file called <code>Map.css</code> in the Map component directory. There we will add
a simple class name for the map and write some simple CSS to center it on the
screen and add a border shadow.</p>
<div class="gatsby-highlight">
      <pre class="language-css"><code><span class="token comment">/* app/js/components/Map/Map.css */</span>

<span class="token selector">.map</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 772px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1518px<span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 20px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>0, 0, 0, 0.4<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>Next we will import this CSS module into our React component and apply the
styles.</p>
<div class="gatsby-highlight">
      <pre class="language-jsx"><code><span class="token comment">// app/js/components/Map/Map.jsx</span>

<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./Map.css'</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Next we will add a wrapper around our <code>&#x3C;img /></code> tag and apply the <code>.map</code> styles.</p>
<div class="gatsby-highlight">
      <pre class="language-jsx"><code><span class="token comment">// app/js/components/Map/Map.jsx</span>

<span class="token keyword">const</span> <span class="token function-variable function">Map</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>map<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>westeros<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>It is important to note here when using React due to "class" being a reserved
word in JavaScript, and ultimately JSX compiles ot JavaScript you must always
apply classes with the <code>className</code> prop instead.</p>
<p>Now run <code>yarn dev</code>, take a look at our web page and see that the map has been
styles applied and if you open the developer console, you will see the generated
hash that is applied by the CSS module. You may also notice that our PostCSS
plugins are working because the <code>box-shadow</code> rule has been automatically vendor
prefixed.</p>
<p><div>
          <a
            class="gatsby-resp-image-link"
            title="original image"
            href="/static/css-modules-3e05d9b4ed0f21b57766ec580aac6825-9945c.png"
            style="display: block"
            target="_blank"
          >
            <div
              class="gatsby-resp-image-wrapper"
              style="position: relative; z-index: -1; "
            >
              <div
                class="gatsby-resp-image-background-image"
                style="padding-bottom: 47.56554307116105%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACBElEQVQoz32SXWsTURCG9zdUTJvPprVQEEEMpsbWCOIPEIrinym9iXpn9ErwQvwLovcNmC4ImgsTthtRbJOYZjd79jPZZHfz8TrnBKpo6cDLDMPynmdmVtp99BiFnSKK9+6j9PQZVFWFoihoNBrQNR0Gs2DaLlzXheM4Z7nT6aDVaonc7XZFz7ZtSLe2i0iuriO7sYkHuw9RrVaFZFmGqTN4lodgHAGYnymKIgyGQ4RhiOl0KhSGAYIgIEOii6ezSGavoPzyBSqVAxxWDylXYPQNaO0eWJ+h/csW6ukOvMEADtEzgx70PMznc2E2Ho8hFe7cFYbLyTRKT0qo17/i6EjBl9pn+L4PS7OIMMBoFAmNg0gQOm0a+ecxbNMiukhQcmMpf3sHK6lVxBJpbFG9t7+P5+Uy1GYDo4GPYBjg35hMJvD0PlhPg8lMmJYFh3bLAaTcVgGX4ykizODScgKbV6/heu4mGe/Bc1zMprP/DPnuXMbg2HQId0hH88jUXhwlly9gKRYXpinaIyddiq1QvS4+OC844Yj2aJwewz1VMdSa8G19cRROyMm4Epk1MX4ikxW1QUs/L2azBbXxQ4by6Q1Oam8RdOuiJ93I/xmZ03Hxmv9KBrvYkJ3IeHfwGh/lV/BbtYWhGJno/jaME11qbQOMFn6R4ainwP/2AYPme4T976L3G4OPdpjhcCd7AAAAAElFTkSuQmCC'); background-size: cover;"
              >
                <img
                  class="gatsby-resp-image-image"
                  style="width: 100%; margin: 0; vertical-align: middle; position: absolute; box-shadow: inset 0px 0px 0px 400px white;"
                  alt="Img: CSS modules applied to the Map"
                  title=""
                  src="/static/css-modules-3e05d9b4ed0f21b57766ec580aac6825-ba9a0.png"
                  srcset="/static/css-modules-3e05d9b4ed0f21b57766ec580aac6825-125fe.png 163w,/static/css-modules-3e05d9b4ed0f21b57766ec580aac6825-637de.png 325w,/static/css-modules-3e05d9b4ed0f21b57766ec580aac6825-ba9a0.png 650w,/static/css-modules-3e05d9b4ed0f21b57766ec580aac6825-31247.png 975w,/static/css-modules-3e05d9b4ed0f21b57766ec580aac6825-9945c.png 1068w"
                  sizes="(max-width: 650px) 100vw, 650px"
                />
              </div>
            </div>
          </a>
          </div></p>
<h2>Exploring PostCSS and CSS Modules</h2>
<p>We are no confident that we can apply CSS to the project but currently the map
is not looking very good. Let's go ahead and theme the project that we have and
at the same time learn how to use the "CSS Next" features that PostCSS is
providing us.</p>
<p>First we will update the Map from using an <code>&#x3C;img /></code> tag to being a background
image. This will allow us to support high definition screens by using the
<code>background-size</code> rule.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>/* app/js/components/Map/Map.css */

.map {
  position: relative;
  margin: 0 auto;
  width: 772px;
  height: 1518px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.4);
<span class="token inserted">+ background-image: url('../../../img/westeros.jpg');</span>
<span class="token inserted">+ background-size: 772px 1518px;</span>
}
</code></pre>
      </div>
<p>We can then also update the Map component because it no longer needs the
`<img /> tag or the westeros graphic to be imported.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Map/Map.jsx

import React from 'react';

import styles from './Map.css';
<span class="token deleted">- import westeros from '../../../img/westeros.jpg';</span>

const Map = () => {
  return (
<span class="token deleted">-    &lt;div className={styles.map}></span>
<span class="token deleted">-      &lt;img src={westeros} />;</span>
<span class="token deleted">-    &lt;/div></span>
<span class="token inserted">+    &lt;div className={styles.map} /></span>
  );
};

export default Map;
</code></pre>
      </div>
<p>If you run <code>yarn dev</code> again and view the changes, you will see the map is
already looking better.</p>
<h4>Using CSS variables</h4>
<p>Our CSS module is now using the width and height values twice. Let's clean this
up by using CSS variables to set the value and apply them using the <code>var</code>
syntax.</p>
<div class="gatsby-highlight">
      <pre class="language-css"><code><span class="token comment">/* app/js/components/Map/Map.css */</span>

<span class="token selector">.map</span> <span class="token punctuation">{</span>
  <span class="token property">--mapWidth</span><span class="token punctuation">:</span> 772px<span class="token punctuation">;</span>
  <span class="token property">--mapHeight</span><span class="token punctuation">:</span> 1518px<span class="token punctuation">;</span>

  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--mapWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--mapHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 20px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>0, 0, 0, 0.4<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url('../../../img/westeros.jpg')</span><span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--mapWidth<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--mapHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<h4>Styling global elements</h4>
<p>At this point it would be good to have the background of the page match the map
a little better. When using CSS modules with React, no module can be applied
directly to the body but we can still style the body by adding rules for it in
any CSS module.</p>
<p>As it would be confusing to style the body inside the CSS component for the Map,
it is a better practise to create a CSS module for your root <code>&#x3C;App /></code> component
and put all global styles (and variables) there.</p>
<p>Let's create an <code>App.css</code> file in the App component and back a background color.
We will also add some font rules that we will need later.</p>
<div class="gatsby-highlight">
      <pre class="language-css"><code><span class="token comment">/* app/js/components/App/App.css */</span>

<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #171a1d<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Palatino, Georgia, serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>We will then also import this module into the <code>&#x3C;App /></code> module. We will also
have to tell ESLint to ignore the <code>no-unused-vars</code> rule for that import since we
have to give a variable that the styles are imported to but in this case we have
no class names to actually apply in our markup.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/App/App.jsx

import Map from '../Map';

<span class="token inserted">+ // eslint-disable-next-line no-unused-vars</span>
<span class="token inserted">+ import styles from './App.css';</span>
</code></pre>
      </div>
<h4>Sharing variables via :root</h4>
<p>Finally, let's move the generic values we are using in the <code>body</code> to CSS
variables so that they can be used later. Instead of storing them inside the
definition for body, let's look at <code>:root</code>.</p>
<blockquote>
<p>The <code>:root</code> CSS pseudo-class matches the root element of a tree representing
the document. In HTML, <code>:root</code> represents the <code>&#x3C;html></code>element and is identical
to the selector html, except that its specificity is higher. <sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup></p>
</blockquote>
<p>This means that definitions done inside of the <code>:root</code> selector will be global
to the page, so in order to share variables across CSS modules we can move them
there. Let's now create variables for the generic styles and also move the Map
variables here away from the <code>Map.css</code> module.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>/* app/js/components/Map/Map.css */

.map {
<span class="token deleted">-  --mapWidth: 772px;</span>
<span class="token deleted">-  --mapHeight: 1518px;</span>
<span class="token deleted">-</span>
  position: relative;
  margin: 0 auto;
  width: var(--mapWidth);
  height: var(--mapHeight);
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.4);
  background-image: url('../../../img/westeros.jpg');
  background-size: var(--mapWidth) var(--mapHeight);
}
</code></pre>
      </div>
<div class="gatsby-highlight">
      <pre class="language-css"><code><span class="token comment">/* app/js/components/App/App.css */</span>

<span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--background</span><span class="token punctuation">:</span> #171a1d<span class="token punctuation">;</span>
  <span class="token property">--text</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">--fontStack</span><span class="token punctuation">:</span> Palatino, Georgia, serif<span class="token punctuation">;</span>

  <span class="token property">--mapWidth</span><span class="token punctuation">:</span> 772px<span class="token punctuation">;</span>
  <span class="token property">--mapHeight</span><span class="token punctuation">:</span> 1518px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--background<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--fontStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>Now run <code>yarn dev</code> again and refresh the changes to see the application now has
a dark background and the map is still positioned as before.</p>
<p><div>
          <a
            class="gatsby-resp-image-link"
            title="original image"
            href="/static/styled-map-5172080aa7e6bcb18f285290bda12988-158bc.png"
            style="display: block"
            target="_blank"
          >
            <div
              class="gatsby-resp-image-wrapper"
              style="position: relative; z-index: -1; "
            >
              <div
                class="gatsby-resp-image-background-image"
                style="padding-bottom: 43.27628361858191%;position: relative; width: 100%; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABvUlEQVQoz43S70tTYRTAcf8HdZubc41b3ok6Ny0QglJZi375I+pFsebl6ti8RkW6Zv64K++dztpSepUZEaShkFGuN/sDRggj8C/69txrQgg5Xxye5835POec59S53C0chbPJi8fn5/PmJpVKhWq1SqlUsqNcLmMumXT1XCDQEcTrl3C4vTS6mvnXqDsOupp9FIpF9vd/cXDwm40PG6y/f8fut11KP3+wvfOFi5cuMxCJIMkBHFbO/0CHeK3B5aG9K8ytoWHerK3SF4mS0jS2tj6x932brzsfCYbCKMp9pFZZgCdU2PgXrHe6afL6uXb9Km6fxKSmkjfTrK/N8vbVNLeHo0Su9HNGOns60JpNR2c7gTaZnvMhph7FWEiPsvhcYVkfQxf3cWWIcHewFnhYXb0474xEGbzRT1IdYT79AHNhjJdzKgUjRdGY4MnEXUKhztqgVaHcFiDzNC6QBMvZJDl9nLyAXuc0VpceMjcdp7e3W4zFZ+ec+MvWOsRjN1kRwItZ1W5VfzaKqScp5CZZWUyRUAbtbXB6WmqD1uzyRhIjm8CYV8k8vifAONmMQsHUMETr2ZkYrfI5Gz0O/gG/tUIeFoqctAAAAABJRU5ErkJggg=='); background-size: cover;"
              >
                <img
                  class="gatsby-resp-image-image"
                  style="width: 100%; margin: 0; vertical-align: middle; position: absolute; box-shadow: inset 0px 0px 0px 400px white;"
                  alt="Img: The final styled map"
                  title=""
                  src="/static/styled-map-5172080aa7e6bcb18f285290bda12988-ba9a0.png"
                  srcset="/static/styled-map-5172080aa7e6bcb18f285290bda12988-125fe.png 163w,/static/styled-map-5172080aa7e6bcb18f285290bda12988-637de.png 325w,/static/styled-map-5172080aa7e6bcb18f285290bda12988-ba9a0.png 650w,/static/styled-map-5172080aa7e6bcb18f285290bda12988-31247.png 975w,/static/styled-map-5172080aa7e6bcb18f285290bda12988-158bc.png 1227w"
                  sizes="(max-width: 650px) 100vw, 650px"
                />
              </div>
            </div>
          </a>
          </div></p>
<h2>Next steps</h2>
<p>If you have had enough of constantly typing <code>yarn dev</code> then luckily the next
step is to introduce <code>webpack-dev-server</code> which will take care of building out
app each time we change a file.</p>
<hr>
<ul>
<li><sup id="fn-1">[1]</sup>: <a href="https://css-tricks.com/css-modules-part-1-need/">https://css-tricks.com/css-modules-part-1-need/</a></li>
<li><sup id="fn-2">[2]</sup>: <a href="http://cssnext.io/">http://cssnext.io/</a></li>
<li><sup id="fn-3">[3]</sup>:
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:root">https://developer.mozilla.org/en-US/docs/Web/CSS/:root</a></li>
</ul></div></div></div></div></div></body></html>