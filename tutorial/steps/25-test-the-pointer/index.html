<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-layouts-index-js-df046e3d82d9aa5cb2d4.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-templates-post-js-3a17a3be098b31ee6856.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/path---tutorial-steps-25-test-the-pointer-63ea6d28f4620acda59a.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/app-289c5076e4386285ad66.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"231608221292675":"app-289c5076e4386285ad66.js","195351340454287":"component---src-templates-post-js-3a17a3be098b31ee6856.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","35783957827783":"component---src-pages-index-js-95bffd59973b41e8570c.js","60335399758886":"path----d56a5c009c65cb248351.js","135563891114638":"path---tutorial-links-620353112bbfe0b2a026.js","118799121156847":"path---tutorial-getting-started-d7382e8dfdb9e55d9437.js","214057910109245":"path---tutorial-steps-1-setup-package-0bf54b8a8350f698299a.js","234256260090605":"path---tutorial-bonus-react-router-e106072ae71d89d437ee.js","17971265750924":"path---tutorial-steps-12-favourites-list-d75f83d38be57cf03214.js","237949882381156":"path---tutorial-steps-13-adding-redux-38e25d8cab07b469cef3.js","206805960689390":"path---tutorial-steps-10-pointer-details-70dbecf95da8084dec89.js","1033659491245":"path---tutorial-steps-14-managing-favourites-with-redux-7340693e5f55c84b5a9a.js","182874657879501":"path---tutorial-steps-18-testing-redux-actions-f4447c79da6ff31900b4.js","118277567452233":"path---tutorial-steps-16-ids-for-points-30351bb9d776cdae9342.js","181225226889932":"path---tutorial-steps-15-removing-favourites-from-the-list-f5eefd19b72b66313182.js","132978315027406":"path---tutorial-steps-11-favourite-places-7a9cc61b515ac3f431ff.js","119454655196054":"path---tutorial-steps-17-testing-with-jest-ca50e8421cb634b72ee0.js","164006660818621":"path---tutorial-steps-19-testing-redux-reducers-2d0d6910b075c6154667.js","86486738803091":"path---tutorial-steps-2-webpack-252d3b032229187d988d.js","191994760325403":"path---tutorial-steps-20-jest-component-configuration-ce8d0c96d28ea32c31e0.js","227242793964653":"path---tutorial-steps-23-test-the-app-component-e6e26ffbb340d6f5a052.js","164153876557642":"path---tutorial-steps-22-testing-connected-components-1a6f9a4376aa2a9f17a3.js","179161860437318":"path---tutorial-steps-21-testing-the-map-98691f7c55273f2d482c.js","198134931227272":"path---tutorial-steps-25-test-the-pointer-63ea6d28f4620acda59a.js","280001054470434":"path---tutorial-steps-3-babel-9f86ac3328040653a9a8.js","46414529011902":"path---tutorial-steps-4-eslint-and-prettier-5e7accfc68b2cffbb473.js","169013477403742":"path---tutorial-steps-24-test-favourites-list-f5a6b040420a8dbac5f0.js","235804080668192":"path---tutorial-steps-6-adding-the-map-9aa7989e668e5a998e07.js","97838741517688":"path---tutorial-steps-5-starting-react-dd11a03c9eee88a30238.js","46098157417510":"path---tutorial-steps-8-webpack-dev-server-d4c9512ec37fa06cf486.js","172606999645938":"path---tutorial-steps-7-styling-with-postcss-8560514788d3682837f3.js","165467095976884":"path---tutorial-steps-9-adding-points-to-the-map-c7811f0291d1eadab4e4.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-bc6327bac4ce75b6851d.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-df046e3d82d9aa5cb2d4.js"}
            //]]>
            </script><title data-react-helmet="true">Learning React and Redux</title><meta data-react-helmet="true" name="description" content="A tutorial for learning React and Redux"/><meta data-react-helmet="true" name="keywords" content="react, redux, tutorial"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js","/learning-react-and-redux-documentation/app-289c5076e4386285ad66.js","/learning-react-and-redux-documentation/path---tutorial-steps-25-test-the-pointer-63ea6d28f4620acda59a.js","/learning-react-and-redux-documentation/component---src-templates-post-js-3a17a3be098b31ee6856.js","/learning-react-and-redux-documentation/component---src-layouts-index-js-df046e3d82d9aa5cb2d4.js"
])
  </script><style id="gatsby-inlined-css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-text-decoration-skip:ink;text-decoration-skip:ink}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{max-width:100%;margin:0 0 1.45rem;padding:10px;//border:1px solid #ddd;box-shadow:0 3px 3px #000;background:#eee;border-radius:5px}h1{font-size:2.25rem}h1,h2{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{margin:0 0 1.45rem 1.45rem;padding:0;list-style-position:outside;list-style-image:none}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}pre,table{margin:0 0 1.45rem}table{padding:0;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{margin:0 0 1.45rem;padding:0}blockquote{padding-left:1rem;padding-right:1rem;margin:0;margin-bottom:1.45rem;border-left:4px solid #ddd}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);border:none;height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:0;padding-top:.2em;padding-bottom:.2em;padding-left:.4rem;margin-right:.2rem}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}#toc{float:right;max-width:333px;font-size:14px;padding:10px 5px 0;background:#eee;border:1px solid #ddd;border-radius:3px;margin:15px 0 15px 15px;box-shadow:0 0 2px 2px rgba(0,0,0,.05)}#toc ul{margin-bottom:0;list-style-type:square}#toc h5{margin:20px 0 8px}@media only screen and (max-width:1000px){#toc{max-width:200px}}#content-wrapper,#header-wrapper{max-width:1400px}@media only screen and (max-width:1200px){#content-wrapper,#header-wrapper{max-width:1100px}}#header-wrapper-outer{background:#222 url("https://i.imgur.com/KeFRjIL.jpg");margin-bottom:2.5rem}.gatsby-resp-image-wrapper{border-radius:3px;border:1px solid #ddd;box-shadow:0 0 3px rgba(0,0,0,.2);padding:0}.gatsby-resp-image-background-image{border-radius:10px}.gatsby-highlight{margin-bottom:20px}.gatsby-resp-image-image{padding:6px}pre{text-indent:-8px}.next-step-link-wrapper{border-top:1px solid rgba(0,0,0,.2)}.next-step-link-wrapper:after{content:"";display:block;clear:both}.next-step-link{float:right;font-size:20px;margin:20px 0}.current-step{color:#555;background:#f5f5f5;padding:8px;border:1px solid #ddd;box-shadow:0 0 1px 1px rgba(0,0,0,.1);border-radius:3px;display:inline-block;font-size:14px;float:right;margin:14px 0 0}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="-707727935"><!-- react-empty: 2 --><div id="header-wrapper-outer" data-reactid="3"><div id="header-wrapper" style="margin:0 auto;padding:1.45rem 1.0875rem;" data-reactid="4"><h1 style="margin:0;" data-reactid="5"><a style="color:white;text-decoration:none;font-size:0.9em;line-height:1.5em;" href="/learning-react-and-redux-documentation/" data-reactid="6">Learning React and Redux</a></h1></div></div><div id="content-wrapper" style="margin:0 auto;padding:0px 1.0875rem 1.45rem;padding-top:0;" data-reactid="7"><div data-reactid="8"><aside id="toc" data-reactid="9"><ul data-reactid="10"><h5 data-reactid="11">Intro</h5><li data-reactid="12"><a href="/learning-react-and-redux-documentation/tutorial/getting-started" data-reactid="13"><!-- react-text: 14 -->Getting Started<!-- /react-text --></a></li><h5 data-reactid="15">Step by Step Guide</h5><li data-reactid="16"><a href="/learning-react-and-redux-documentation/tutorial/steps/1-setup-package/" data-reactid="17"><!-- react-text: 18 -->Step 1: <!-- /react-text --><!-- react-text: 19 -->Generate the package.json<!-- /react-text --></a></li><li data-reactid="20"><a href="/learning-react-and-redux-documentation/tutorial/steps/2-webpack/" data-reactid="21"><!-- react-text: 22 -->Step 2: <!-- /react-text --><!-- react-text: 23 -->Setting up Webpack<!-- /react-text --></a></li><li data-reactid="24"><a href="/learning-react-and-redux-documentation/tutorial/steps/3-babel/" data-reactid="25"><!-- react-text: 26 -->Step 3: <!-- /react-text --><!-- react-text: 27 -->Setting up Babel<!-- /react-text --></a></li><li data-reactid="28"><a href="/learning-react-and-redux-documentation/tutorial/steps/4-eslint-and-prettier/" data-reactid="29"><!-- react-text: 30 -->Step 4: <!-- /react-text --><!-- react-text: 31 -->ESLint and Prettier<!-- /react-text --></a></li><li data-reactid="32"><a href="/learning-react-and-redux-documentation/tutorial/steps/5-starting-react/" data-reactid="33"><!-- react-text: 34 -->Step 5: <!-- /react-text --><!-- react-text: 35 -->Starting with React<!-- /react-text --></a></li><li data-reactid="36"><a href="/learning-react-and-redux-documentation/tutorial/steps/6-adding-the-map/" data-reactid="37"><!-- react-text: 38 -->Step 6: <!-- /react-text --><!-- react-text: 39 -->Adding the Map<!-- /react-text --></a></li><li data-reactid="40"><a href="/learning-react-and-redux-documentation/tutorial/steps/7-styling-with-postcss/" data-reactid="41"><!-- react-text: 42 -->Step 7: <!-- /react-text --><!-- react-text: 43 -->CSS Modules and PostCSS<!-- /react-text --></a></li><li data-reactid="44"><a href="/learning-react-and-redux-documentation/tutorial/steps/8-webpack-dev-server/" data-reactid="45"><!-- react-text: 46 -->Step 8: <!-- /react-text --><!-- react-text: 47 -->Webpack Dev Server<!-- /react-text --></a></li><li data-reactid="48"><a href="/learning-react-and-redux-documentation/tutorial/steps/9-adding-points-to-the-map/" data-reactid="49"><!-- react-text: 50 -->Step 9: <!-- /react-text --><!-- react-text: 51 -->Adding Points to the Map<!-- /react-text --></a></li><li data-reactid="52"><a href="/learning-react-and-redux-documentation/tutorial/steps/10-pointer-details/" data-reactid="53"><!-- react-text: 54 -->Step 10: <!-- /react-text --><!-- react-text: 55 -->Showing the Details of each Point<!-- /react-text --></a></li><li data-reactid="56"><a href="/learning-react-and-redux-documentation/tutorial/steps/11-favourite-places/" data-reactid="57"><!-- react-text: 58 -->Step 11: <!-- /react-text --><!-- react-text: 59 -->Favourite Places<!-- /react-text --></a></li><li data-reactid="60"><a href="/learning-react-and-redux-documentation/tutorial/steps/12-favourites-list/" data-reactid="61"><!-- react-text: 62 -->Step 12: <!-- /react-text --><!-- react-text: 63 -->Favourites List<!-- /react-text --></a></li><li data-reactid="64"><a href="/learning-react-and-redux-documentation/tutorial/steps/13-adding-redux/" data-reactid="65"><!-- react-text: 66 -->Step 13: <!-- /react-text --><!-- react-text: 67 -->Starting with Redux<!-- /react-text --></a></li><li data-reactid="68"><a href="/learning-react-and-redux-documentation/tutorial/steps/14-managing-favourites-with-redux/" data-reactid="69"><!-- react-text: 70 -->Step 14: <!-- /react-text --><!-- react-text: 71 -->Managing Favourites with Redux<!-- /react-text --></a></li><li data-reactid="72"><a href="/learning-react-and-redux-documentation/tutorial/steps/15-removing-favourites-from-the-list/" data-reactid="73"><!-- react-text: 74 -->Step 15: <!-- /react-text --><!-- react-text: 75 -->Removing Favourites from the List<!-- /react-text --></a></li><li data-reactid="76"><a href="/learning-react-and-redux-documentation/tutorial/steps/16-ids-for-points/" data-reactid="77"><!-- react-text: 78 -->Step 16: <!-- /react-text --><!-- react-text: 79 -->Adding IDs to the Points Data<!-- /react-text --></a></li><li data-reactid="80"><a href="/learning-react-and-redux-documentation/tutorial/steps/17-testing-with-jest/" data-reactid="81"><!-- react-text: 82 -->Step 17: <!-- /react-text --><!-- react-text: 83 -->Testing with Jest<!-- /react-text --></a></li><li data-reactid="84"><a href="/learning-react-and-redux-documentation/tutorial/steps/18-testing-redux-actions/" data-reactid="85"><!-- react-text: 86 -->Step 18: <!-- /react-text --><!-- react-text: 87 -->Testing Redux Actions<!-- /react-text --></a></li><li data-reactid="88"><a href="/learning-react-and-redux-documentation/tutorial/steps/19-testing-redux-reducers/" data-reactid="89"><!-- react-text: 90 -->Step 19: <!-- /react-text --><!-- react-text: 91 -->Testing Redux Reducers<!-- /react-text --></a></li><li data-reactid="92"><a href="/learning-react-and-redux-documentation/tutorial/steps/20-jest-component-configuration/" data-reactid="93"><!-- react-text: 94 -->Step 20: <!-- /react-text --><!-- react-text: 95 -->Preparing Component testing with Jest<!-- /react-text --></a></li><li data-reactid="96"><a href="/learning-react-and-redux-documentation/tutorial/steps/21-testing-the-map/" data-reactid="97"><!-- react-text: 98 -->Step 21: <!-- /react-text --><!-- react-text: 99 -->Testing the Map<!-- /react-text --></a></li><li data-reactid="100"><a href="/learning-react-and-redux-documentation/tutorial/steps/22-testing-connected-components/" data-reactid="101"><!-- react-text: 102 -->Step 22: <!-- /react-text --><!-- react-text: 103 -->Testing Connected Components<!-- /react-text --></a></li><li data-reactid="104"><a href="/learning-react-and-redux-documentation/tutorial/steps/23-test-the-app-component/" data-reactid="105"><!-- react-text: 106 -->Step 23: <!-- /react-text --><!-- react-text: 107 -->Testing the App Component<!-- /react-text --></a></li><li data-reactid="108"><a href="/learning-react-and-redux-documentation/tutorial/steps/24-test-favourites-list/" data-reactid="109"><!-- react-text: 110 -->Step 24: <!-- /react-text --><!-- react-text: 111 -->Testing the Favourites List<!-- /react-text --></a></li><li data-reactid="112"><a href="/learning-react-and-redux-documentation/tutorial/steps/25-test-the-pointer/" data-reactid="113"><!-- react-text: 114 -->Step 25: <!-- /react-text --><!-- react-text: 115 -->Testing the Pointer<!-- /react-text --></a></li><h5 data-reactid="116">Bonus Steps</h5><li data-reactid="117"><a href="/learning-react-and-redux-documentation/tutorial/bonus/react-router" data-reactid="118"><!-- react-text: 119 -->Navigation with React Router<!-- /react-text --></a></li><h5 data-reactid="120">Information</h5><li data-reactid="121"><a href="/learning-react-and-redux-documentation/tutorial/links" data-reactid="122"><!-- react-text: 123 -->Links<!-- /react-text --></a></li></ul></aside><h3 class="current-step" data-reactid="124"><!-- react-text: 125 -->Step <!-- /react-text --><!-- react-text: 126 -->25<!-- /react-text --></h3><h1 data-reactid="127">Testing the Pointer</h1><div data-reactid="128"><p>The final step in our testing will be to test the <code>Pointer</code> class. This is again
similar to the component testing we have been doing in the previous steps.</p>
<p>We will be testing the unconnected version of the component, the connected
version, testing that clicking the controls dispatches the correct Redux
actions, and also testing that clicking the open/close control toggles the
<code>Pointer</code> components internal "open" <code>state</code>.</p>
<h2>Testing the Unconnected Pointer</h2>
<p>Add the usual imports and <code>describe</code> contexts for the spec which will we will
place at <code>app/js/components/Pointer/__specs__/Pointer.spec.jsx</code>.</p>
<p>We will define some mock data that will be used in the unconnected snapshot test
which allows us to define <code>noop</code> functions for the prop functions that Redux
would normally create for us.</p>
<div class="gatsby-highlight">
      <pre class="language-jsx"><code><span class="token comment">// app/js/components/Pointer/__specs__/Pointer.spec.jsx</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> shallow <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'enzyme'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Pointer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">noop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> pointerProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  addFavourite<span class="token punctuation">:</span> noop<span class="token punctuation">,</span>
  removeFavourite<span class="token punctuation">:</span> noop<span class="token punctuation">,</span>
  id<span class="token punctuation">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  x<span class="token punctuation">:</span> <span class="token number">99</span><span class="token punctuation">,</span>
  y<span class="token punctuation">:</span> <span class="token number">88</span><span class="token punctuation">,</span>
  details<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'Winterfell'</span><span class="token punctuation">,</span>
    house<span class="token punctuation">:</span> <span class="token string">'Stark'</span><span class="token punctuation">,</span>
    words<span class="token punctuation">:</span> <span class="token string">'Winter is Coming'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  favourite<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Pointer component'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'matches the snapshot'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">shallow</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pointer</span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">pointerProps</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<h2>Testing the Connected Pointer</h2>
<p>Next we will import the <code>configureStore</code> method, the <code>pointsMock</code>, and check
that the connected <code>Pointer</code> matches the snapshot.</p>
<p>We also have to stub the <code>x</code>, <code>y</code>, and <code>details</code> props that are expected by our
<code>propTypes</code> with fake data because Redux does not pass these props to the
<code>Pointer</code> component for us but instead our <code>Map</code> component does. Remember that
the <code>Pointer</code> component does not have a <code>mapStateToProps</code> function.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/__specs__/Pointer.spec.jsx

  import React from 'react';
  import { shallow } from 'enzyme';
<span class="token inserted">+ import configureStore from 'redux-mock-store';</span>

<span class="token inserted">+ import { pointsMock } from '../../../spec-helper';</span>
<span class="token deleted">- import { Pointer } from '../';</span>
<span class="token inserted">+ import ConnectedPointer, { Pointer } from '../';</span>

  const noop = () => {};

  const pointerProps = {
    addFavourite: noop,
    removeFavourite: noop,
    id: 'point-42',
    x: 99,
    y: 88,
    details: {
      name: 'Winterfell',
      house: 'Stark',
      words: 'Winter is Coming'
    },
    favourite: true
  };

  describe('Pointer', () => {
    it('matches the snapshot', () => {
      const wrapper = shallow(&lt;Pointer {...pointerProps} />);

      expect(wrapper).toMatchSnapshot();
    });
  });

<span class="token inserted">+  describe('ConnectedApp', () => {</span>
<span class="token inserted">+    const mockStore = configureStore([]);</span>
<span class="token inserted">+    const store = mockStore({ points: pointsMock });</span>
<span class="token inserted">+</span>
<span class="token inserted">+    it('maps store state to the props', () => {</span>
<span class="token inserted">+      const wrapper = shallow(</span>
<span class="token inserted">+        &lt;ConnectedPointer store={store} x={1} y={2} details={{}} /></span>
<span class="token inserted">+      );</span>
<span class="token inserted">+</span>
<span class="token inserted">+      expect(wrapper).toMatchSnapshot();</span>
<span class="token inserted">+    });</span>
<span class="token inserted">+  });</span>
</code></pre>
      </div>
<h2>Testing the Connected Controls</h2>
<p>We will now test that clicking on the "favourite" toggle control will dispatch
the <code>addFavourite</code> or <code>removeFavourite</code> actions for us depending on the state of
our store.</p>
<p>We also introduce a <code>beforeEach</code> function that will clear the mock store of any
actions that were dispatched in a previous test, otherwise the actions stay in
the store and our expectations will not match.</p>
<p>The one thing we need to change in the actual <code>Pointer</code> component is the <code>&#x3C;a></code>
tag that we use for the "favourite" and "open/close" controls.</p>
<p>In order to target them in our tests we cannot simply search for "a" because
there are two of them. Instead we will update the <code>href</code> attribute to add an
identifier after the hash <code>#</code>. Update the <code>Pointer</code> component as so:</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/Pointer.jsx

  &lt;header className={styles.headline}>
    &lt;h3>{name}&lt;/h3>
    &lt;div className={styles.detailsControls}>
<span class="token deleted">-     &lt;a href="#" className={styles.control} onClick={this.favourite}></span>
<span class="token inserted">+     &lt;a href="#favourite" className={styles.control} onClick={this.favourite}></span>
        {favourite ? '–' : '+'}
      &lt;/a>

<span class="token deleted">-     &lt;a href="#" className={styles.control} onClick={this.toggle}></span>
<span class="token inserted">+     &lt;a href="#toggle" className={styles.control} onClick={this.toggle}></span>
        &amp;times;
      &lt;/a>
  &lt;/header>
</code></pre>
      </div>
<p>We can now go ahead and implement the changes to our test.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/__specs__/Pointer.spec.jsx

  import React from 'react';
<span class="token deleted">- import { shallow } from 'enzyme';</span>
<span class="token inserted">+ import { shallow, mount } from 'enzyme';</span>
  import configureStore from 'redux-mock-store';

  import { pointsMock } from '../../../spec-helper';
<span class="token inserted">+ import { addFavourite, removeFavourite } from '../../../actions';</span>
  import ConnectedPointer, { Pointer } from '../';

  ...

  describe('ConnectedPointer component', () => {
    const mockStore = configureStore([]);
    const store = mockStore({ points: pointsMock });

<span class="token inserted">+   beforeEach(() => {</span>
<span class="token inserted">+     store.clearActions();</span>
<span class="token inserted">+   });</span>
<span class="token inserted">+</span>
    it('maps store state to the props', () => {
      const wrapper = shallow(
        &lt;ConnectedPointer store={store} x={1} y={2} details={{}} />
      );

      expect(wrapper).toMatchSnapshot();
    });

<span class="token inserted">+   describe('when the favourite button is clicked', () => {</span>
<span class="token inserted">+     it('calls the removeFavourite action if the pointer is a favourite', () => {</span>
<span class="token inserted">+       const wrapper = mount(</span>
<span class="token inserted">+         &lt;ConnectedPointer {...pointerProps} store={store} /></span>
<span class="token inserted">+       );</span>
<span class="token inserted">+       const expectedAction = [removeFavourite(42)];</span>
<span class="token inserted">+</span>
<span class="token inserted">+       wrapper.find('a[href="#favourite"]').simulate('click');</span>
<span class="token inserted">+</span>
<span class="token inserted">+       expect(store.getActions()).toEqual(expectedAction);</span>
<span class="token inserted">+     });</span>
<span class="token inserted">+</span>
<span class="token inserted">+     it('calls the addFavourite action if the pointer is a favourite', () => {</span>
<span class="token inserted">+       const updatedFavouriteState = { favourite: false };</span>
<span class="token inserted">+       const modifiedPointerProps = Object.assign(</span>
<span class="token inserted">+         {},</span>
<span class="token inserted">+         pointerProps,</span>
<span class="token inserted">+         updatedFavouriteState</span>
<span class="token inserted">+       );</span>
<span class="token inserted">+</span>
<span class="token inserted">+       const wrapper = mount(</span>
<span class="token inserted">+         &lt;ConnectedPointer {...modifiedPointerProps} store={store} /></span>
<span class="token inserted">+       );</span>
<span class="token inserted">+       const expectedAction = [addFavourite(42)];</span>
<span class="token inserted">+</span>
<span class="token inserted">+       wrapper.find('a[href="#favourite"]').simulate('click');</span>
<span class="token inserted">+</span>
<span class="token inserted">+       expect(store.getActions()).toEqual(expectedAction);</span>
<span class="token inserted">+     });</span>
<span class="token inserted">+   });</span>
<span class="token inserted">+ });</span>
</code></pre>
      </div>
<h2>Testing Component state Changes</h2>
<p>The final step will be to test that the <code>state</code> property updates when the
open/close toggle control is clicked on.</p>
<p>Since we do not need Redux to test this, these tests will be added inside the
unconnected <code>Pointer</code> context.</p>
<p>These tests are similar to the action tests we did previously. We mount the
component using <code>mount</code>, find the button we want to click on the rendered DOM,
and then simulate a click on it.</p>
<p>In this case though we will expect that the component <code>state</code> updates instead of
a Redux action being dispatched.</p>
<p>We can mock the <code>state</code> of the component by calling <code>.state()</code> on the wrapper
and passing an object of the state to be set, as you see in the "changes open
state to true, if it is false" test.</p>
<p>We can also get the current <code>state</code> of the component by asking for one of the
state keys, for example <code>wrapper.state('open');</code>.</p>
<p>We use this to form our expectations in each test scenario. Add the following
tests to the "Pointer component" context.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Pointer/__specs__/Pointer.spec.jsx

  describe('Pointer component', () => {
    it('matches the snapshot', () => {
      const wrapper = shallow(&lt;Pointer {...pointerProps} />);

      expect(wrapper).toMatchSnapshot();
    });

<span class="token inserted">+   describe('when the toggle button is clicked', () => {</span>
<span class="token inserted">+     it('changes the open state to true, if it is false', () => {</span>
<span class="token inserted">+       const wrapper = mount(&lt;Pointer {...pointerProps} />);</span>
<span class="token inserted">+</span>
<span class="token inserted">+       wrapper.find('a[href="#toggle"]').simulate('click');</span>
<span class="token inserted">+</span>
<span class="token inserted">+       expect(wrapper.state('open')).toEqual(true);</span>
<span class="token inserted">+     });</span>
<span class="token inserted">+</span>
<span class="token inserted">+     it('changes the open state to false, if it is true', () => {</span>
<span class="token inserted">+       const wrapper = mount(&lt;Pointer {...pointerProps} />);</span>
<span class="token inserted">+</span>
<span class="token inserted">+       wrapper.setState({ open: true });</span>
<span class="token inserted">+       wrapper.find('a[href="#toggle"]').simulate('click');</span>
<span class="token inserted">+</span>
<span class="token inserted">+       expect(wrapper.state('open')).toEqual(false);</span>
<span class="token inserted">+     });</span>
<span class="token inserted">+   });</span>
  });
</code></pre>
      </div>
<p>That's everything! We have now tested all of our components. If we update our
components in a breaking way in the future the tests will fail and we will have
to update them to match the new state of the code, or if they are failing
unexpectedly we will know that a bug has been introduced to our application.</p>
<p>Run the tests once more with <code>yarn test</code> and see that everything including our
Redux actions and reducer are covered with passing specs.</p></div><!-- react-empty: 129 --></div></div></div></div></body></html>