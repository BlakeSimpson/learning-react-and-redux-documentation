<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-layouts-index-js-df046e3d82d9aa5cb2d4.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/component---src-templates-post-js-3a17a3be098b31ee6856.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/path---tutorial-steps-13-adding-redux-38e25d8cab07b469cef3.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/app-289c5076e4386285ad66.js" as="script"/><link rel="preload" href="/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"231608221292675":"app-289c5076e4386285ad66.js","195351340454287":"component---src-templates-post-js-3a17a3be098b31ee6856.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","35783957827783":"component---src-pages-index-js-95bffd59973b41e8570c.js","60335399758886":"path----d56a5c009c65cb248351.js","135563891114638":"path---tutorial-links-620353112bbfe0b2a026.js","118799121156847":"path---tutorial-getting-started-d7382e8dfdb9e55d9437.js","214057910109245":"path---tutorial-steps-1-setup-package-0bf54b8a8350f698299a.js","234256260090605":"path---tutorial-bonus-react-router-e106072ae71d89d437ee.js","17971265750924":"path---tutorial-steps-12-favourites-list-d75f83d38be57cf03214.js","237949882381156":"path---tutorial-steps-13-adding-redux-38e25d8cab07b469cef3.js","206805960689390":"path---tutorial-steps-10-pointer-details-70dbecf95da8084dec89.js","1033659491245":"path---tutorial-steps-14-managing-favourites-with-redux-7340693e5f55c84b5a9a.js","182874657879501":"path---tutorial-steps-18-testing-redux-actions-f4447c79da6ff31900b4.js","118277567452233":"path---tutorial-steps-16-ids-for-points-30351bb9d776cdae9342.js","181225226889932":"path---tutorial-steps-15-removing-favourites-from-the-list-f5eefd19b72b66313182.js","132978315027406":"path---tutorial-steps-11-favourite-places-7a9cc61b515ac3f431ff.js","119454655196054":"path---tutorial-steps-17-testing-with-jest-ca50e8421cb634b72ee0.js","164006660818621":"path---tutorial-steps-19-testing-redux-reducers-2d0d6910b075c6154667.js","86486738803091":"path---tutorial-steps-2-webpack-252d3b032229187d988d.js","191994760325403":"path---tutorial-steps-20-jest-component-configuration-ce8d0c96d28ea32c31e0.js","227242793964653":"path---tutorial-steps-23-test-the-app-component-e6e26ffbb340d6f5a052.js","164153876557642":"path---tutorial-steps-22-testing-connected-components-1a6f9a4376aa2a9f17a3.js","179161860437318":"path---tutorial-steps-21-testing-the-map-98691f7c55273f2d482c.js","198134931227272":"path---tutorial-steps-25-test-the-pointer-63ea6d28f4620acda59a.js","280001054470434":"path---tutorial-steps-3-babel-9f86ac3328040653a9a8.js","46414529011902":"path---tutorial-steps-4-eslint-and-prettier-5e7accfc68b2cffbb473.js","169013477403742":"path---tutorial-steps-24-test-favourites-list-f5a6b040420a8dbac5f0.js","235804080668192":"path---tutorial-steps-6-adding-the-map-9aa7989e668e5a998e07.js","97838741517688":"path---tutorial-steps-5-starting-react-dd11a03c9eee88a30238.js","46098157417510":"path---tutorial-steps-8-webpack-dev-server-d4c9512ec37fa06cf486.js","172606999645938":"path---tutorial-steps-7-styling-with-postcss-8560514788d3682837f3.js","165467095976884":"path---tutorial-steps-9-adding-points-to-the-map-c7811f0291d1eadab4e4.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-bc6327bac4ce75b6851d.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-df046e3d82d9aa5cb2d4.js"}
            //]]>
            </script><title data-react-helmet="true">Learning React and Redux</title><meta data-react-helmet="true" name="description" content="A tutorial for learning React and Redux"/><meta data-react-helmet="true" name="keywords" content="react, redux, tutorial"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/learning-react-and-redux-documentation/commons-8d5048b07969403445b0.js","/learning-react-and-redux-documentation/app-289c5076e4386285ad66.js","/learning-react-and-redux-documentation/path---tutorial-steps-13-adding-redux-38e25d8cab07b469cef3.js","/learning-react-and-redux-documentation/component---src-templates-post-js-3a17a3be098b31ee6856.js","/learning-react-and-redux-documentation/component---src-layouts-index-js-df046e3d82d9aa5cb2d4.js"
])
  </script><style id="gatsby-inlined-css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-text-decoration-skip:ink;text-decoration-skip:ink}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{max-width:100%;margin:0 0 1.45rem;padding:10px;//border:1px solid #ddd;box-shadow:0 3px 3px #000;background:#eee;border-radius:5px}h1{font-size:2.25rem}h1,h2{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{margin:0 0 1.45rem 1.45rem;padding:0;list-style-position:outside;list-style-image:none}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}pre,table{margin:0 0 1.45rem}table{padding:0;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{margin:0 0 1.45rem;padding:0}blockquote{padding-left:1rem;padding-right:1rem;margin:0;margin-bottom:1.45rem;border-left:4px solid #ddd}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);border:none;height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:0;padding-top:.2em;padding-bottom:.2em;padding-left:.4rem;margin-right:.2rem}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}#toc{float:right;max-width:333px;font-size:14px;padding:10px 5px 0;background:#eee;border:1px solid #ddd;border-radius:3px;margin:15px 0 15px 15px;box-shadow:0 0 2px 2px rgba(0,0,0,.05)}#toc ul{margin-bottom:0;list-style-type:square}#toc h5{margin:20px 0 8px}@media only screen and (max-width:1000px){#toc{max-width:200px}}#content-wrapper,#header-wrapper{max-width:1400px}@media only screen and (max-width:1200px){#content-wrapper,#header-wrapper{max-width:1100px}}#header-wrapper-outer{background:#222 url("https://i.imgur.com/KeFRjIL.jpg");margin-bottom:2.5rem}.gatsby-resp-image-wrapper{border-radius:3px;border:1px solid #ddd;box-shadow:0 0 3px rgba(0,0,0,.2);padding:0}.gatsby-resp-image-background-image{border-radius:10px}.gatsby-highlight{margin-bottom:20px}.gatsby-resp-image-image{padding:6px}pre{text-indent:-8px}.next-step-link-wrapper{border-top:1px solid rgba(0,0,0,.2)}.next-step-link-wrapper:after{content:"";display:block;clear:both}.next-step-link{float:right;font-size:20px;margin:20px 0}.current-step{color:#555;background:#f5f5f5;padding:8px;border:1px solid #ddd;box-shadow:0 0 1px 1px rgba(0,0,0,.1);border-radius:3px;display:inline-block;font-size:14px;float:right;margin:14px 0 0}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="1876379471"><!-- react-empty: 2 --><div id="header-wrapper-outer" data-reactid="3"><div id="header-wrapper" style="margin:0 auto;padding:1.45rem 1.0875rem;" data-reactid="4"><h1 style="margin:0;" data-reactid="5"><a style="color:white;text-decoration:none;font-size:0.9em;line-height:1.5em;" href="/learning-react-and-redux-documentation/" data-reactid="6">Learning React and Redux</a></h1></div></div><div id="content-wrapper" style="margin:0 auto;padding:0px 1.0875rem 1.45rem;padding-top:0;" data-reactid="7"><div data-reactid="8"><aside id="toc" data-reactid="9"><ul data-reactid="10"><h5 data-reactid="11">Intro</h5><li data-reactid="12"><a href="/learning-react-and-redux-documentation/tutorial/getting-started" data-reactid="13"><!-- react-text: 14 -->Getting Started<!-- /react-text --></a></li><h5 data-reactid="15">Step by Step Guide</h5><li data-reactid="16"><a href="/learning-react-and-redux-documentation/tutorial/steps/1-setup-package/" data-reactid="17"><!-- react-text: 18 -->Step 1: <!-- /react-text --><!-- react-text: 19 -->Generate the package.json<!-- /react-text --></a></li><li data-reactid="20"><a href="/learning-react-and-redux-documentation/tutorial/steps/2-webpack/" data-reactid="21"><!-- react-text: 22 -->Step 2: <!-- /react-text --><!-- react-text: 23 -->Setting up Webpack<!-- /react-text --></a></li><li data-reactid="24"><a href="/learning-react-and-redux-documentation/tutorial/steps/3-babel/" data-reactid="25"><!-- react-text: 26 -->Step 3: <!-- /react-text --><!-- react-text: 27 -->Setting up Babel<!-- /react-text --></a></li><li data-reactid="28"><a href="/learning-react-and-redux-documentation/tutorial/steps/4-eslint-and-prettier/" data-reactid="29"><!-- react-text: 30 -->Step 4: <!-- /react-text --><!-- react-text: 31 -->ESLint and Prettier<!-- /react-text --></a></li><li data-reactid="32"><a href="/learning-react-and-redux-documentation/tutorial/steps/5-starting-react/" data-reactid="33"><!-- react-text: 34 -->Step 5: <!-- /react-text --><!-- react-text: 35 -->Starting with React<!-- /react-text --></a></li><li data-reactid="36"><a href="/learning-react-and-redux-documentation/tutorial/steps/6-adding-the-map/" data-reactid="37"><!-- react-text: 38 -->Step 6: <!-- /react-text --><!-- react-text: 39 -->Adding the Map<!-- /react-text --></a></li><li data-reactid="40"><a href="/learning-react-and-redux-documentation/tutorial/steps/7-styling-with-postcss/" data-reactid="41"><!-- react-text: 42 -->Step 7: <!-- /react-text --><!-- react-text: 43 -->CSS Modules and PostCSS<!-- /react-text --></a></li><li data-reactid="44"><a href="/learning-react-and-redux-documentation/tutorial/steps/8-webpack-dev-server/" data-reactid="45"><!-- react-text: 46 -->Step 8: <!-- /react-text --><!-- react-text: 47 -->Webpack Dev Server<!-- /react-text --></a></li><li data-reactid="48"><a href="/learning-react-and-redux-documentation/tutorial/steps/9-adding-points-to-the-map/" data-reactid="49"><!-- react-text: 50 -->Step 9: <!-- /react-text --><!-- react-text: 51 -->Adding Points to the Map<!-- /react-text --></a></li><li data-reactid="52"><a href="/learning-react-and-redux-documentation/tutorial/steps/10-pointer-details/" data-reactid="53"><!-- react-text: 54 -->Step 10: <!-- /react-text --><!-- react-text: 55 -->Showing the Details of each Point<!-- /react-text --></a></li><li data-reactid="56"><a href="/learning-react-and-redux-documentation/tutorial/steps/11-favourite-places/" data-reactid="57"><!-- react-text: 58 -->Step 11: <!-- /react-text --><!-- react-text: 59 -->Favourite Places<!-- /react-text --></a></li><li data-reactid="60"><a href="/learning-react-and-redux-documentation/tutorial/steps/12-favourites-list/" data-reactid="61"><!-- react-text: 62 -->Step 12: <!-- /react-text --><!-- react-text: 63 -->Favourites List<!-- /react-text --></a></li><li data-reactid="64"><a href="/learning-react-and-redux-documentation/tutorial/steps/13-adding-redux/" data-reactid="65"><!-- react-text: 66 -->Step 13: <!-- /react-text --><!-- react-text: 67 -->Starting with Redux<!-- /react-text --></a></li><li data-reactid="68"><a href="/learning-react-and-redux-documentation/tutorial/steps/14-managing-favourites-with-redux/" data-reactid="69"><!-- react-text: 70 -->Step 14: <!-- /react-text --><!-- react-text: 71 -->Managing Favourites with Redux<!-- /react-text --></a></li><li data-reactid="72"><a href="/learning-react-and-redux-documentation/tutorial/steps/15-removing-favourites-from-the-list/" data-reactid="73"><!-- react-text: 74 -->Step 15: <!-- /react-text --><!-- react-text: 75 -->Removing Favourites from the List<!-- /react-text --></a></li><li data-reactid="76"><a href="/learning-react-and-redux-documentation/tutorial/steps/16-ids-for-points/" data-reactid="77"><!-- react-text: 78 -->Step 16: <!-- /react-text --><!-- react-text: 79 -->Adding IDs to the Points Data<!-- /react-text --></a></li><li data-reactid="80"><a href="/learning-react-and-redux-documentation/tutorial/steps/17-testing-with-jest/" data-reactid="81"><!-- react-text: 82 -->Step 17: <!-- /react-text --><!-- react-text: 83 -->Testing with Jest<!-- /react-text --></a></li><li data-reactid="84"><a href="/learning-react-and-redux-documentation/tutorial/steps/18-testing-redux-actions/" data-reactid="85"><!-- react-text: 86 -->Step 18: <!-- /react-text --><!-- react-text: 87 -->Testing Redux Actions<!-- /react-text --></a></li><li data-reactid="88"><a href="/learning-react-and-redux-documentation/tutorial/steps/19-testing-redux-reducers/" data-reactid="89"><!-- react-text: 90 -->Step 19: <!-- /react-text --><!-- react-text: 91 -->Testing Redux Reducers<!-- /react-text --></a></li><li data-reactid="92"><a href="/learning-react-and-redux-documentation/tutorial/steps/20-jest-component-configuration/" data-reactid="93"><!-- react-text: 94 -->Step 20: <!-- /react-text --><!-- react-text: 95 -->Preparing Component testing with Jest<!-- /react-text --></a></li><li data-reactid="96"><a href="/learning-react-and-redux-documentation/tutorial/steps/21-testing-the-map/" data-reactid="97"><!-- react-text: 98 -->Step 21: <!-- /react-text --><!-- react-text: 99 -->Testing the Map<!-- /react-text --></a></li><li data-reactid="100"><a href="/learning-react-and-redux-documentation/tutorial/steps/22-testing-connected-components/" data-reactid="101"><!-- react-text: 102 -->Step 22: <!-- /react-text --><!-- react-text: 103 -->Testing Connected Components<!-- /react-text --></a></li><li data-reactid="104"><a href="/learning-react-and-redux-documentation/tutorial/steps/23-test-the-app-component/" data-reactid="105"><!-- react-text: 106 -->Step 23: <!-- /react-text --><!-- react-text: 107 -->Testing the App Component<!-- /react-text --></a></li><li data-reactid="108"><a href="/learning-react-and-redux-documentation/tutorial/steps/24-test-favourites-list/" data-reactid="109"><!-- react-text: 110 -->Step 24: <!-- /react-text --><!-- react-text: 111 -->Testing the Favourites List<!-- /react-text --></a></li><li data-reactid="112"><a href="/learning-react-and-redux-documentation/tutorial/steps/25-test-the-pointer/" data-reactid="113"><!-- react-text: 114 -->Step 25: <!-- /react-text --><!-- react-text: 115 -->Testing the Pointer<!-- /react-text --></a></li><h5 data-reactid="116">Bonus Steps</h5><li data-reactid="117"><a href="/learning-react-and-redux-documentation/tutorial/bonus/react-router" data-reactid="118"><!-- react-text: 119 -->Navigation with React Router<!-- /react-text --></a></li><h5 data-reactid="120">Information</h5><li data-reactid="121"><a href="/learning-react-and-redux-documentation/tutorial/links" data-reactid="122"><!-- react-text: 123 -->Links<!-- /react-text --></a></li></ul></aside><h3 class="current-step" data-reactid="124"><!-- react-text: 125 -->Step <!-- /react-text --><!-- react-text: 126 -->13<!-- /react-text --></h3><h1 data-reactid="127">Starting with Redux</h1><div data-reactid="128"><p>Redux is a technology, or better thought of as an architecture, for managing
state within a JavaScript application. The architecture was originally developed
around the idea of <a href="https://facebook.github.io/flux/">flux</a> but simplifies it a
little. Redux is commonly used with larger React projects in order to centralise
the management of data.</p>
<p>Here is the introduction to Redux given on the
<a href="https://redux.js.org/">official Redux website</a>:</p>
<blockquote>
<p>Redux is a predictable state container for JavaScript apps. (Not to be
confused with a WordPress framework – Redux Framework.)</p>
</blockquote>
<blockquote>
<p>It helps you write applications that behave consistently, run in different
environments (client, server, and native), and are easy to test. On top of
that, it provides a great developer experience, such as live code editing
combined with a time traveling debugger.</p>
</blockquote>
<p>Redux can seem quite complicated if you have never worked with it before but
once you start to understand the concepts, it begins to make scaling your
application simple. Although we will be learning as we go along, in order to
understand the fundamentals of Redux I would highly recommend reading the
<a href="https://redux.js.org/docs/basics/">Redux basics</a> section of the documentation
to understand the terminology such as action, reducer, and store before going
forward.</p>
<h2>Adding Redux to a React Application</h2>
<p>Redux is often overused for smaller applications so always consider if you
really need it. For this simple map application we could probably live without
Redux but for the sake of learning we will convert our application to use it.</p>
<h4>Installing Redux</h4>
<p>The first step we will have to take is to add the necessary Redux packages to
our dependencies. We will be adding <code>redux</code> and since we plan to us Redux with
React, we will also add <code>react-redux</code> that provides us with certain helpers for
React integration.</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code>yarn add redux react-redux
</code></pre>
      </div>
<h4>Connecting the Data</h4>
<p>Assuming that you are familiar with the Redux basics we will first of all move
our <code>points</code> data out of the <code>App</code> component and into a "points" reducer.
Reducers take our data, better know an "state", and based on Redux actions they
mutate the state and return the new representation.</p>
<p>Although reducers are not responsible for storing the data itself (this is the
responsibility of the store), they do provide the initial state of an empty
application. Normally you would not put all of your data (our points) in the
initial state. Instead it would be normal to use an empty array and then load
your data from a backend API. We will however use the initial state to store our
data since this is an example application without a backend.</p>
<p>We will begin be creating a directory for our reducers.</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code><span class="token function">mkdir</span> app/js/reducers
</code></pre>
      </div>
<p>We will then create a reducer with the filename <code>points.js</code> inside of this
directory. We will start be creating the reducer function <code>points ()</code> that
accepts the state and an action. We will make this function the default export.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token comment">// app/js/reducers/points.js</span>

<span class="token keyword">const</span> <span class="token function-variable function">points</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> points<span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Reducers should then contain a <code>switch</code> statement that switches over the action
type and decided how to change the <code>state</code>. In this step we will not implement
any actions so for now we will just have the <code>default</code> switch case which in a
reducer will always return the state as-is. Update your reducer as so:</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/reducers/points.js

  const points = (state, action) => {
<span class="token inserted">+   switch (action.type) {</span>
<span class="token inserted">+     default:</span>
<span class="token inserted">+       return state;</span>
<span class="token inserted">+   }</span>
  };

  export default points;
</code></pre>
      </div>
<p>To finish off this reducer, we will now apply our initial state which as was
already discussed will be the <code>points</code> array that is currently in the <code>App</code>
component. Cut this array out of the <code>App</code> and move it to the reducer above the
reducer function and name it <code>initialState</code>. We then pass <code>initialState</code> as the
default value for the <code>state</code> argument in the reducer.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/reducers/points.js

<span class="token inserted">+ const initialState = [</span>
<span class="token inserted">+   ... // This array is the points array from your &lt;App /> component</span>
<span class="token inserted">+ ];</span>

<span class="token deleted">- const points = (state, action) => {</span>
<span class="token inserted">+ const points = (state = initialState, action) => {</span>
    switch (action.type) {
      default:
        return state;
    }
  };

  export default points;
</code></pre>
      </div>
<h2>Combining Reducers</h2>
<p>Although we can separate our data handling up in to different reducers when you
create a Redux store your can only pass one "combined reducer". This means that
we use a Redux helper that will take all of our reducers and combine them
together into one large object that the store can work with.</p>
<p>This is usually done in an <code>index.js</code> file within your <code>reducers/</code> directory.
The index file imports all reducers, combines them, and then exports the
combined reducer. Even though we only have one reducer in this application we
still need to return a combined version.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token comment">// app/js/reducers/index.js</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> combineReducers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> points <span class="token keyword">from</span> <span class="token string">'./points'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  points
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Notice we import the <code>combinedReducers</code> function from Redux. We import the
<code>points</code> reducer and then pass this to <code>combineReducers</code> inside of an object.
The result of combining the reducers is then exported from this index file as
the default export.</p>
<blockquote>
<p><em>Note:</em> Passing <code>{ points }</code> as the object is shorthand in ES6 for passing <code>{ points: points }</code>. The key is automatically inferred from the variable name.</p>
</blockquote>
<h2>Creating the Store</h2>
<p>As mentioned in the last section the Redux store needs to receive a combined
reducer when it is created. Now that we have a combined reducer we can go ahead
and create the store which will hold all of our state (data).</p>
<p>Generally you want to build your store and at the root level of your React
application because we will pass it to a <code>Provider</code> component (we will see this
in a moment), which must wrap around your whole application. Therefore, we will
create the store in the <code>application.jsx</code> file as it is the root of our
application where we render the <code>App</code> component.</p>
<p>First we import the <code>createStore</code> helper from Redux. We then import our combined
reducers from the <code>reducers</code> directory and create a <code>store</code> constant.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/application.jsx

  import React from 'react';
  import { render } from 'react-dom';
<span class="token inserted">+ import { createStore } from 'redux';</span>

  import App from './components/App';
<span class="token inserted">+ import reducers from './reducers';</span>

<span class="token inserted">+ const store = createStore(</span>
<span class="token inserted">+   reducers</span>
<span class="token inserted">+ );</span>

  render(&lt;App />, document.getElementById('app'));
</code></pre>
      </div>
<p>In order to make React aware of the Redux store we have to use a helper
component from the <code>react-redux</code> package called <code>&#x3C;Provider /></code>. The <code>Provider</code>
is a higher-order component (HoC) <sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> that wraps around our application and
passes props down to our child components for us.</p>
<p>Basically the <code>Provider</code> makes the <code>store</code> that we pass to it available to its
children components so that they can access that store later. Update the
<code>application.jsx</code> to implement a <code>Provider</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/application.jsx

  import React from 'react';
  import { render } from 'react-dom';
  import { createStore } from 'redux';
<span class="token inserted">+ import { Provider } from 'react-redux';</span>

  import App from './components/App';
  import reducers from './reducers';

  const store = createStore(
    reducers
  );

<span class="token deleted">-  render(&lt;App />, document.getElementById('app'));</span>
<span class="token inserted">+  render(</span>
<span class="token inserted">+    &lt;Provider store={store}></span>
<span class="token inserted">+      &lt;App /></span>
<span class="token inserted">+    &lt;/Provider>,</span>
<span class="token inserted">+    document.getElementById('app')</span>
<span class="token inserted">+  );</span>
</code></pre>
      </div>
<h4>Redux Developer Tools</h4>
<p>If you have not yet installed them the
<a href="https://github.com/zalmoxisus/redux-devtools-extension">Redux developer tools</a>
integrate into the browser developer tools and lets you debug how your Redux
actions and state is changing. I would recommend installing the extension for
your preferred browser.</p>
<p>In order to be able to use the Redux dev tools they must be configured when
creating your store. This can be done like so:</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/application.jsx

  const store = createStore(
    reducers,
<span class="token inserted">+   window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()</span>
  );
</code></pre>
      </div>
<h2>Connected Components</h2>
<p>In order for your components to get information from the store you must
"connect" them with the Redux store. There is an aptly named <code>connect</code> helper
provided by the <code>react-redux</code> package for this purpose.</p>
<p>Basically instead of simply exporting the component from your JSX file you will
export a version of the component wrapped by the <code>connect</code> method.</p>
<p>The <code>connect</code> method allows you to pass a function called <code>mapStateToProps</code> that
will as the name suggests, takes state from the Redux store and then make it
available to your component via React props.</p>
<p>This is an example of how that would look:</p>
<div class="gatsby-highlight">
      <pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Hello <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>accountName<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">mapStateToProps</span> <span class="token operator">=</span> state <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    accountName<span class="token punctuation">:</span> state<span class="token punctuation">.</span>account<span class="token punctuation">.</span>name
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ConnectedMyComponent <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ConnectedMyComponent<span class="token punctuation">;</span>
</code></pre>
      </div>
<p>In this example we imagine that there is a reducer called "account" that has a
property called <code>name</code> inside of its state. The <code>mapStateToProps</code> function
accepts the <code>state</code> argument which is a representation of the entire Redux store
(all combined reducers), we then return the props that will be passed into the
component. In this case we only return one prop <code>accountName</code>. Whenever the
store changes (a Redux action was dispatched and the stored data has changed)
then all connected components will be triggered with an update so that the props
will be updated with the new data and the React life-cycle will trigger again,
just as if you had called <code>setState</code> - therefore the <code>render</code> method is called
again and the new account name is displayed on the screen.</p>
<h4>Connecting the map</h4>
<p>That may be a lot to take in so it is best if we learn by implementing a
connected component within our application. We will start by connecting the
<code>Map</code> component to Redux so that we can access the <code>points</code> array.</p>
<p>As in the previous example we will first import the <code>connect</code> method, build a
<code>mapStateToProps</code> function, and create a new constant called <code>ConnectedMap</code>.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Map/Map.jsx

  import React from 'react';
  import PropTypes from 'prop-types';
<span class="token inserted">+ import { connect } from 'react-redux';</span>

  import Pointer from '../Pointer';
  import styles from './Map.css';

  const Map = ({ points }) => {
    return (
      &lt;div className={styles.map}>
        {points.map((point, index) => &lt;Pointer {...point} key={index} />)}
      &lt;/div>
    );
  };

  Map.propTypes = {
    points: PropTypes.arrayOf(PropTypes.object)
  };

<span class="token inserted">+ const mapStateToProps = state => {</span>
<span class="token inserted">+   return {</span>
<span class="token inserted">+     points: state.points</span>
<span class="token inserted">+   };</span>
<span class="token inserted">+ };</span>

<span class="token inserted">+ const ConnectedMap = connect(mapStateToProps)(Map);</span>

<span class="token deleted">- export default Map;</span>
<span class="token inserted">+ export default ConnectedMap;</span>
</code></pre>
      </div>
<p>We have now connected the <code>Map</code> with Redux. The <code>mapStateToProps</code> function will
ensure that the <code>Map</code> component always has a prop called <code>points</code>, which is the
result of the points reducer. As you may remember from implementing the reducer
earlier, the reducer simply returns the <code>points</code> array that we have been working
with, which will be the value of the <code>points</code> prop.</p>
<h4>Separating Presentation from Logic</h4>
<p>We now export the connected component as the default export. At this point is
worth mentioning that it is normal to create a distinction between
presentational components and connected components in Redux applications. There
is a an article titled "Presentational and Container Components" <sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup> by Dan
Abramov, the creator of Redux, where he explains the concept of splitting
presentational components (the ones that describe how things look, are styled,
etc.) from the "container" components, which are components that are connected
to Redux using the <code>connect</code> method.</p>
<p>Therefore, it is common in Redux applications for developers to put all
connected components in a directory called "containers" and have these
components connect with the store, convert the state to props and then the
container is responsible for delegating those props down to the presentational
components.</p>
<p>In my experience I have come to use a slightly different approach which does not
separate the components as much. Instead of having "containers" and "components"
directories I instead keep everything in the "components" directory as it is now
and simply export both a connected and unconnected version of each component.
Some components never need to be connected in which case only the
"presentational" component is exported.</p>
<p>For example, if we look again at the earlier example where we examined how
<code>connect</code> works, the original component (the presentational component) was
called <code>MyComponent</code>. We then create a new constant called
<code>ConnectedMyComponent</code> that was wrapped by <code>connect</code>.</p>
<p>What I would now do is export both of these components from the file. The
connected version being the <code>default</code> and the presentational component being an
extra export.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>  ...

<span class="token deleted">-  class MyComponent extends Component {</span>
<span class="token inserted">+  export class MyComponent extends Component {</span>
    render() {
      return &lt;h1>Hello {this.props.accountName}&lt;/h1>;
    }
  }

  ...

  const ConnectedMyComponent = connect(mapStateToProps)(MyComponent);

  export default ConnectedMyComponent;
</code></pre>
      </div>
<p>This means you can import either the presentation or connected version from the
same file.</p>
<div class="gatsby-highlight">
      <pre class="language-jsx"><code><span class="token keyword">import</span> ConnectedMyComponent <span class="token keyword">from</span> <span class="token string">'./MyComponent'</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MyComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./MyComponent'</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>The advantages of this approach are that it removes the complexity of having to
consider which components are containers that only access the store and which
ones are presentational. As your application grows certain components suddenly
need to access the store and it can be a pain to differentiate them. You do not
need to move components between directories as your application grows and
changes, also.</p>
<p>This approach has worked well in my experience for smaller applications. Of
course it may be advantageous to use the approach Dan Abramov explains for
larger applications. Due to the harder separation of presentation components,
they can become more reusable. I try to design my components to be reusable even
if they are connected or not however, so for the example here let us explore
this slightly less orthodox approach to connected components.</p>
<h4>Multiple Exports for the map</h4>
<p>So, after seeing the example of exporting connected and unconnected version of a
component, let's apply this to our <code>Map</code>. First we will export the raw <code>Map</code>
class from the <code>Map.jsx</code> file.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Map/Map.jsx

<span class="token deleted">- const Map = ({ points }) => {</span>
<span class="token inserted">+ export const Map = ({ points }) => {</span>
</code></pre>
      </div>
<p>We will then have to update the <code>index.js</code> file within the Map component to
export not only the <code>default</code> export from <code>Map.jsx</code> but also all other exports.
We use the <code>*</code> wildcard so that the <code>Map</code> export is automatically exported along
with any other exports we may define in the future, meaning we will no longer
need to update the <code>index.js</code> file.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/Map/index.js

  export { default } from './Map';
<span class="token inserted">+ export * from './Map';</span>
</code></pre>
      </div>
<p>Although we will not be using the unconnected <code>Map</code> export right now, we will
set up this pattern of exporting both versions of the component. This will come
in very useful when we get to the steps concerning testing where we need to test
the connected and unconnected versions separately.</p>
<h2>Connecting the FavouritesList</h2>
<p>Since the <code>FavouritesList</code> component also relays on the <code>points</code> array we will
need to connect this to the Redux store in exactly the same way we did for the
<code>Map</code>. Let's apply those changes now.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/FavouritesList/FavouritesList.jsx

  import React from 'react';
  import PropTypes from 'prop-types';
<span class="token inserted">+ import { connect } from 'react-redux';</span>

  import styles from './FavouritesList.css';

<span class="token deleted">- const FavouritesList = ({ points }) => {</span>
<span class="token inserted">+ export const FavouritesList = ({ points }) => {</span>
    const favourites = points.filter(point => point.favourite);

    return (
      &lt;div className={styles.listWrapper}>
        &lt;h3>Favourites&lt;/h3>
        &lt;ul className={styles.list}>
          {favourites.map((favourite, index) => (
            &lt;li key={index}>{favourite.details.name}&lt;/li>
          ))}
        &lt;/ul>
      &lt;/div>
    );
  };

  FavouritesList.propTypes = {
    points: PropTypes.arrayOf(PropTypes.object)
  };

<span class="token inserted">+ const mapStateToProps = state => {</span>
<span class="token inserted">+   return {</span>
<span class="token inserted">+     points: state.points</span>
<span class="token inserted">+   };</span>
<span class="token inserted">+ };</span>
<span class="token inserted">+</span>
<span class="token inserted">+  const ConnectedFavouritesList = connect(mapStateToProps)(FavouritesList);</span>

<span class="token deleted">-  export default FavouritesList;</span>
<span class="token inserted">+  export default ConnectedFavouritesList;</span>
</code></pre>
      </div>
<p>We will then update the <code>index.js</code> file of the <code>FavouritesList</code> so that the
unconnected version of the list if also available.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/FavouritesList/index.js

  export { default } from './FavouritesList';
<span class="token inserted">+ export * from './FavouritesList';</span>
</code></pre>
      </div>
<h2>Using the Connected Components</h2>
<p>If you have been looking at the browser as you go along you will see the
application has not been working up until this point. The final step we need to
take is to implement the new connected versions of the components.</p>
<p>The errors are happening because we are trying to pass the no longer existing
<code>points</code> array as a prop to the <code>Map</code> and <code>FavouritesList</code> components inside of
<code>App</code>. We will update the <code>App</code> component to import the connected map and
connected favourites list instead, since they already receive the points from
Redux, which will fix the issue.</p>
<div class="gatsby-highlight">
      <pre class="language-diff"><code>// app/js/components/App/App.js

  import React from 'react';

<span class="token deleted">- import Map from '../Map';</span>
<span class="token deleted">- import FavouritesList from '../FavouritesList';</span>
<span class="token inserted">+ import ConnectedMap from '../Map';</span>
<span class="token inserted">+ import ConnectedFavouritesList from '../FavouritesList';</span>

  // eslint-disable-next-line no-unused-vars
  import styles from './App.css';

  const App = () => {
    return (
      &lt;section>
<span class="token deleted">-       &lt;Map points={points} /></span>
<span class="token deleted">-       &lt;FavouritesList points={points} /></span>
<span class="token inserted">+       &lt;ConnectedMap /></span>
<span class="token inserted">+       &lt;ConnectedFavouritesList /></span>
      &lt;/section>
    );
  };

  export default App;
</code></pre>
      </div>
<p>Take a look at the browser again and you will see that the map and favourites
list are back to normal.</p>
<p>Although the changes we have applied in this step have not added any usable
feature to the application, it has demonstrated how to apply Redux to an
application. We will use this groundwork in the next steps to apply actions
which we can use to share the changes in favourite state between the map and the
list, allowing the two components to work together.</p>
<hr>
<ul>
<li><sup id="fn-1">[1]</sup>:
<a href="https://reactjs.org/docs/higher-order-components.html">https://reactjs.org/docs/higher-order-components.html</a></li>
<li><sup id="fn-2">[2]</sup>:
<a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0</a></li>
</ul></div><p class="next-step-link-wrapper" data-reactid="129"><a class="next-step-link" href="/learning-react-and-redux-documentation/tutorial/steps/14-managing-favourites-with-redux/" data-reactid="130">Continue to Step 14: Managing Favourites with Redux &raquo;</a></p></div></div></div></div></body></html>